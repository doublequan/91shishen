/*!
 * Fuel UX v3.0.2
 * Copyright 2012-2014 ExactTarget
 * Licensed under the BSD-3-Clause license ()
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","bootstrap"],a)}else{a(jQuery)}}(function(a){if(typeof a==="undefined"){throw new Error("Fuel UX's JavaScript requires jQuery")}if(typeof a.fn.dropdown==="undefined"||typeof a.fn.collapse==="undefined"){throw new Error("Fuel UX's JavaScript requires Bootstrap")}(function(c){var b=c.fn.checkbox;var d=function(e,f){this.options=c.extend({},c.fn.checkbox.defaults,f);this.$element=c(e).is('input[type="checkbox"]')?c(e):c(e).find('input[type="checkbox"]:first');this.$label=this.$element.parent();this.$parent=this.$label.parent(".checkbox");this.$toggleContainer=this.$element.attr("data-toggle");this.state={disabled:false,checked:false};if(this.$parent.length===0){this.$parent=null}if(Boolean(this.$toggleContainer)){this.$toggleContainer=c(this.$toggleContainer)}else{this.$toggleContainer=null}this.$element.on("change.fu.checkbox",c.proxy(this.itemchecked,this));this.setState()};d.prototype={constructor:d,setState:function(e){e=e||this.$element;this.state.disabled=Boolean(e.prop("disabled"));this.state.checked=Boolean(e.is(":checked"));this._resetClasses();this._toggleCheckedState();this._toggleDisabledState();this.toggleContainer()},enable:function(){this.state.disabled=false;this.$element.attr("disabled",false);this._resetClasses();this.$element.trigger("enabled.fu.checkbox")},disable:function(){this.state.disabled=true;this.$element.attr("disabled",true);this._setDisabledClass();this.$element.trigger("disabled.fu.checkbox")},check:function(){this.state.checked=true;this.$element.prop("checked",true);this._setCheckedClass();this.$element.trigger("checked.fu.checkbox")},uncheck:function(){this.state.checked=false;this.$element.prop("checked",false);this._resetClasses();this.$element.trigger("unchecked.fu.checkbox")},isChecked:function(){return this.state.checked},toggle:function(){this.state.checked=!this.state.checked;this._toggleCheckedState()},toggleContainer:function(){if(Boolean(this.$toggleContainer)){if(this.state.checked){this.$toggleContainer.removeClass("hide");this.$toggleContainer.attr("aria-hidden","false")}else{this.$toggleContainer.addClass("hide");this.$toggleContainer.attr("aria-hidden","true")}}},itemchecked:function(e){this.setState(c(e.target))},destroy:function(){this.$parent.remove();return this.$parent[0].outerHTML},_resetClasses:function(){var e=[];if(!this.state.checked){e.push("checked")}if(!this.state.disabled){e.push("disabled")}e=e.join(" ");this.$label.removeClass(e);if(this.$parent){this.$parent.removeClass(e)}},_toggleCheckedState:function(){if(this.state.checked){this.check()}else{this.uncheck()}},_toggleDisabledState:function(){if(this.state.disabled){this.disable()}else{this.enable()}},_setCheckedClass:function(){this.$label.addClass("checked");if(this.$parent){this.$parent.addClass("checked")}},_setDisabledClass:function(){this.$label.addClass("disabled");if(this.$parent){this.$parent.addClass("disabled")}}};c.fn.checkbox=function(f){var g=Array.prototype.slice.call(arguments,1);var h;var e=this.each(function(){var k=c(this);var j=k.data("fu.checkbox");var i=typeof f==="object"&&f;if(!j){k.data("fu.checkbox",(j=new d(this,i)))}if(typeof f==="string"){h=j[f].apply(j,g)}});return(h===undefined)?e:h};c.fn.checkbox.defaults={};c.fn.checkbox.Constructor=d;c.fn.checkbox.noConflict=function(){c.fn.checkbox=b;return this};c(document).on("mouseover.fu.checkbox.data-api","[data-initialize=checkbox]",function(g){var f=c(g.target).closest(".checkbox").find("[type=checkbox]");if(!f.data("fu.checkbox")){f.checkbox(f.data())}});c(function(){c("[data-initialize=checkbox] [type=checkbox]").each(function(){var e=c(this);if(!e.data("fu.checkbox")){e.checkbox(e.data())}})})})(a);(function(d){var b=d.fn.combobox;var c=function(e,f){this.$element=d(e);this.options=d.extend({},d.fn.combobox.defaults,f);this.$dropMenu=this.$element.find(".dropdown-menu");this.$input=this.$element.find("input");this.$button=this.$element.find(".btn");this.$element.on("click.fu.combobox","a",d.proxy(this.itemclicked,this));this.$element.on("change.fu.combobox","input",d.proxy(this.inputchanged,this));this.$element.on("shown.bs.dropdown",d.proxy(this.menuShown,this));this.setDefaultSelection()};c.prototype={constructor:c,destroy:function(){this.$element.remove();this.$element.find("input").each(function(){d(this).attr("value",d(this).val())});return this.$element[0].outerHTML},doSelect:function(e){if(typeof e[0]!=="undefined"){this.$selectedItem=e;this.$input.val(this.$selectedItem.text())}else{this.$selectedItem=null}},menuShown:function(){if(this.options.autoResizeMenu){this.resizeMenu()}},resizeMenu:function(){var e=this.$element.outerWidth();this.$dropMenu.outerWidth(e)},selectedItem:function(){var f=this.$selectedItem;var g={};if(f){var e=this.$selectedItem.text();g=d.extend({text:e},this.$selectedItem.data())}else{g={text:this.$input.val()}}return g},selectByText:function(f){var e=d([]);this.$element.find("li").each(function(){if((this.textContent||this.innerText||d(this).text()||"").toLowerCase()===(f||"").toLowerCase()){e=d(this);return false}});this.doSelect(e)},selectByValue:function(f){var e='li[data-value="'+f+'"]';this.selectBySelector(e)},selectByIndex:function(f){var e="li:eq("+f+")";this.selectBySelector(e)},selectBySelector:function(e){var f=this.$element.find(e);this.doSelect(f)},setDefaultSelection:function(){var e="li[data-selected=true]:first";var f=this.$element.find(e);if(f.length>0){this.selectBySelector(e);f.removeData("selected");f.removeAttr("data-selected")}},enable:function(){this.$element.removeClass("disabled");this.$input.removeAttr("disabled");this.$button.removeClass("disabled")},disable:function(){this.$element.addClass("disabled");this.$input.attr("disabled",true);this.$button.addClass("disabled")},itemclicked:function(g){this.$selectedItem=d(g.target).parent();this.$input.val(this.$selectedItem.text()).trigger("change",{synthetic:true});var f=this.selectedItem();this.$element.trigger("changed.fu.combobox",f);g.preventDefault();this.$element.find(".dropdown-toggle").focus()},inputchanged:function(h,f){if(f&&f.synthetic){return}var i=d(h.target).val();this.selectByText(i);var g=this.selectedItem();if(g.text.length===0){g={text:i}}this.$element.trigger("changed.fu.combobox",g)}};d.fn.combobox=function(f){var g=Array.prototype.slice.call(arguments,1);var h;var e=this.each(function(){var k=d(this);var j=k.data("fu.combobox");var i=typeof f==="object"&&f;if(!j){k.data("fu.combobox",(j=new c(this,i)))}if(typeof f==="string"){h=j[f].apply(j,g)}});return(h===undefined)?e:h};d.fn.combobox.defaults={autoResizeMenu:true};d.fn.combobox.Constructor=c;d.fn.combobox.noConflict=function(){d.fn.combobox=b;return this};d(document).on("mousedown.fu.combobox.data-api","[data-initialize=combobox]",function(g){var f=d(g.target).closest(".combobox");if(!f.data("fu.combobox")){f.combobox(f.data())}});d(function(){d("[data-initialize=combobox]").each(function(){var e=d(this);if(!e.data("fu.combobox")){e.combobox(e.data())}})})})(a);(function(g){var f="Invalid Date";var i="moment.js is not available so you cannot use this function";var h=[];var j=false;var b=g.fn.datepicker;var e=false;var d=function(){var m,k;e=true;for(m=0,k=h.length;m<k;m++){h[m].init.call(h[m].scope)}h=[]};if(typeof define==="function"&&define.amd){require(["moment"],function(k){j=k;d()},function(l){var k=l.requireModules&&l.requireModules[0];if(k==="moment"){d()}})}else{d()}var c=function(k,l){this.$element=g(k);this.options=g.extend(true,{},g.fn.datepicker.defaults,l);this.$calendar=this.$element.find(".datepicker-calendar");this.$days=this.$calendar.find(".datepicker-calendar-days");this.$header=this.$calendar.find(".datepicker-calendar-header");this.$headerTitle=this.$header.find(".title");this.$input=this.$element.find("input");this.$wheels=this.$element.find(".datepicker-wheels");this.$wheelsMonth=this.$element.find(".datepicker-wheels-month");this.$wheelsYear=this.$element.find(".datepicker-wheels-year");this.artificialScrolling=false;this.formatDate=this.options.formatDate||this.formatDate;this.inputValue=null;this.moment=false;this.momentFormat=null;this.parseDate=this.options.parseDate||this.parseDate;this.preventBlurHide=false;this.restricted=this.options.restricted||[];this.restrictedParsed=[];this.restrictedText=this.options.restrictedText;this.sameYearOnly=this.options.sameYearOnly;this.selectedDate=null;this.yearRestriction=null;this.$calendar.find(".datepicker-today").on("click.fu.datepicker",g.proxy(this.todayClicked,this));this.$days.on("click.fu.datepicker","tr td button",g.proxy(this.dateClicked,this));this.$element.find(".dropdown-menu").on("mousedown.fu.datepicker",g.proxy(this.dropdownMousedown,this));this.$header.find(".next").on("click.fu.datepicker",g.proxy(this.next,this));this.$header.find(".prev").on("click.fu.datepicker",g.proxy(this.prev,this));this.$headerTitle.on("click.fu.datepicker",g.proxy(this.titleClicked,this));this.$input.on("blur.fu.datepicker",g.proxy(this.inputBlurred,this));this.$input.on("focus.fu.datepicker",g.proxy(this.inputFocused,this));this.$wheels.find(".datepicker-wheels-back").on("click.fu.datepicker",g.proxy(this.backClicked,this));this.$wheels.find(".datepicker-wheels-select").on("click.fu.datepicker",g.proxy(this.selectClicked,this));this.$wheelsMonth.on("click.fu.datepicker","ul button",g.proxy(this.monthClicked,this));this.$wheelsYear.on("click.fu.datepicker","ul button",g.proxy(this.yearClicked,this));this.$wheelsYear.find("ul").on("scroll.fu.datepicker",g.proxy(this.onYearScroll,this));var m=function(){if(this.checkForMomentJS()){j=j||window.moment;this.moment=true;this.momentFormat=this.options.momentConfig.format;this.setCulture(this.options.momentConfig.culture)}this.setRestrictedDates(this.restricted);if(!this.setDate(this.options.date)){this.$input.val("");this.inputValue=this.$input.val()}if(this.sameYearOnly){this.yearRestriction=(this.selectedDate)?this.selectedDate.getFullYear():new Date().getFullYear()}};if(e){m.call(this)}else{h.push({init:m,scope:this})}};c.prototype={constructor:c,backClicked:function(){this.changeView("calendar")},changeView:function(k,l){if(k==="wheels"){this.$calendar.hide().attr("aria-hidden","true");this.$wheels.show().removeAttr("aria-hidden","");if(l){this.renderWheel(l)}}else{this.$wheels.hide().attr("aria-hidden","true");this.$calendar.show().removeAttr("aria-hidden","");if(l){this.renderMonth(l)}}},checkForMomentJS:function(){if((g.isFunction(window.moment)||(typeof j!=="undefined"&&g.isFunction(j)))&&g.isPlainObject(this.options.momentConfig)&&this.options.momentConfig.culture&&this.options.momentConfig.format){return true}else{return false}},dateClicked:function(l){var m=g(l.currentTarget).parents("td:first");var k;if(m.hasClass("restricted")){return}this.$days.find("td.selected").removeClass("selected");m.addClass("selected");k=new Date(m.attr("data-year"),m.attr("data-month"),m.attr("data-date"));this.selectedDate=k;this.$input.val(this.formatDate(k));this.inputValue=this.$input.val();this.$input.focus()},destroy:function(){this.$element.remove();this.$days.find("tbody").empty();this.$wheelsYear.find("ul").empty();return this.$element[0].outerHTML},disable:function(){this.$element.addClass("disabled");this.$element.find("input, button").attr("disabled","disabled");this.$element.find(".input-group-btn").removeClass("open")},dropdownMousedown:function(){var k=this;this.preventBlurHide=true;setTimeout(function(){k.preventBlurHide=false},0)},enable:function(){this.$element.removeClass("disabled");this.$element.find("input, button").removeAttr("disabled")},formatDate:function(l){var k=function(n){var m="0"+n;return m.substr(m.length-2)};if(this.moment){return j(l).format(this.momentFormat)}else{return k(l.getMonth()+1)+"/"+k(l.getDate())+"/"+l.getFullYear()}},getCulture:function(){if(this.moment){return j.lang()}else{throw i}},getDate:function(){return(!this.selectedDate)?new Date(NaN):this.selectedDate},getFormat:function(){if(this.moment){return this.momentFormat}else{throw i}},getFormattedDate:function(){return(!this.selectedDate)?f:this.formatDate(this.selectedDate)},getRestrictedDates:function(){return this.restricted},inputBlurred:function(m){var l=this.$input.val();var k;if(l!==this.inputValue){k=this.setDate(l);if(k===null){this.$element.trigger("inputParsingFailed.fu.datepicker",l)}else{if(k===false){this.$element.trigger("inputRestrictedDate.fu.datepicker",k)}else{this.$element.trigger("changed.fu.datepicker",k)}}}if(!this.preventBlurHide){this.$element.find(".input-group-btn").removeClass("open")}},inputFocused:function(k){this.$element.find(".input-group-btn").addClass("open")},isInvalidDate:function(k){var l=k.toString();if(l===f||l==="NaN"){return true}return false},isRestricted:function(m,q,p){var o=this.restrictedParsed;var n,s,k,r;if(this.sameYearOnly&&this.yearRestriction!==null&&p!==this.yearRestriction){return true}for(n=0,k=o.length;n<k;n++){s=o[n].from;r=o[n].to;if((p>s.year||(p===s.year&&q>s.month)||(p===s.year&&q===s.month&&m>=s.date))&&(p<r.year||(p===r.year&&q<r.month)||(p===r.year&&q===r.month&&m<=r.date))){return true}}return false},monthClicked:function(k){this.$wheelsMonth.find(".selected").removeClass("selected");g(k.currentTarget).parent().addClass("selected")},next:function(){var l=this.$headerTitle.attr("data-month");var k=this.$headerTitle.attr("data-year");l++;if(l>11){if(this.sameYearOnly){return}l=0;k++}this.renderMonth(new Date(k,l,1))},onYearScroll:function(o){if(this.artificialScrolling){return}var k=g(o.currentTarget);var r=(k.css("box-sizing")==="border-box")?k.outerHeight():k.height();var q=k.get(0).scrollHeight;var m=k.scrollTop();var s=(r/(q-m))*100;var p=(m/q)*100;var n,l;if(p<5){l=parseInt(k.find("li:first").attr("data-year"),10);for(n=(l-1);n>(l-11);n--){k.prepend('<li data-year="'+n+'"><button type="button">'+n+"</button></li>")}this.artificialScrolling=true;k.scrollTop((k.get(0).scrollHeight-q)+m);this.artificialScrolling=false}else{if(s>90){l=parseInt(k.find("li:last").attr("data-year"),10);for(n=(l+1);n<(l+11);n++){k.append('<li data-year="'+n+'"><button type="button">'+n+"</button></li>")}}}},parseDate:function(n){var m=this;var p,l,o,r,q,k;if(n){if(this.moment){o=function(s,t){t=(s==="b")?j(t,m.momentFormat):j(t);return(t.isValid()===true)?t.toDate():new Date(NaN)};k=(typeof(n)==="string")?["b","a"]:["a","b"];p=o(k[0],n);if(!this.isInvalidDate(p)){return p}else{p=o(k[1],n);if(!this.isInvalidDate(p)){return p}}}else{if(typeof(n)==="string"){p=new Date(Date.parse(n));if(!this.isInvalidDate(p)){return p}else{n=n.split("T")[0];l=/^\s*(\d{4})-(\d\d)-(\d\d)\s*$/;q=l.exec(n);if(q){r=parseInt(q[2],10);p=new Date(q[1],r-1,q[3]);if(r===(p.getMonth()+1)){return p}}}}else{p=new Date(n);if(!this.isInvalidDate(p)){return p}}}}return new Date(NaN)},prev:function(){var l=this.$headerTitle.attr("data-month");var k=this.$headerTitle.attr("data-year");l--;if(l<0){if(this.sameYearOnly){return}l=11;k--}this.renderMonth(new Date(k,l,1))},renderMonth:function(C){C=C||new Date();var n=new Date(C.getFullYear(),C.getMonth(),1).getDay();var l=new Date(C.getFullYear(),C.getMonth()+1,0).getDate();var A=new Date(C.getFullYear(),C.getMonth(),0).getDate();var t=this.$headerTitle.find(".month");var D=C.getMonth();var o=new Date();var v=o.getDate();var m=o.getMonth();var p=o.getFullYear();var x=this.selectedDate;var w=this.$days.find("tbody");var s=C.getFullYear();var E,k,u,z,y,r,B,q,F;if(x){x={date:x.getDate(),month:x.getMonth(),year:x.getFullYear()}}t.find(".current").removeClass("current");t.find('span[data-month="'+D+'"]').addClass("current");this.$headerTitle.find(".year").text(s);this.$headerTitle.attr({"data-month":D,"data-year":s});w.empty();if(n!==0){E=A-n+1;B=-1}else{E=1;B=0}r=(l<=(35-n))?5:6;for(z=0;z<r;z++){F=g("<tr></tr>");for(y=0;y<7;y++){q=g('<td><span><button type="button" class="datepicker-date">'+E+"</button></span></td>");if(B===-1){q.addClass("last-month")}else{if(B===1){q.addClass("next-month")}}k=D+B;u=s;if(k<0){k=11;u--}else{if(k>11){k=0;u++}}q.attr({"data-date":E,"data-month":k,"data-year":u});if(u===p&&k===m&&E===v){q.addClass("current-day")}else{if(u<p||(u===p&&k<m)||(u===p&&k===m&&E<v)){q.addClass("past");if(!this.options.allowPastDates){q.addClass("restricted").attr("title",this.restrictedText)}}}if(this.isRestricted(E,k,u)){q.addClass("restricted").attr("title",this.restrictedText)}if(x&&u===x.year&&k===x.month&&E===x.date){q.addClass("selected")}E++;if(B===-1&&E>A){E=1;B=0}else{if(B===0&&E>l){E=1;B=1}}F.append(q)}w.append(F)}},renderWheel:function(n){var r=n.getMonth();var q=this.$wheelsMonth.find("ul");var p=n.getFullYear();var m=this.$wheelsYear.find("ul");var o,k,l;if(this.sameYearOnly){this.$wheelsMonth.addClass("full");this.$wheelsYear.addClass("hide")}else{this.$wheelsMonth.removeClass("full");this.$wheelsYear.removeClass("hide")}q.find(".selected").removeClass("selected");k=q.find('li[data-month="'+r+'"]');k.addClass("selected");q.scrollTop(q.scrollTop()+(k.position().top-q.outerHeight()/2-k.outerHeight(true)/2));m.empty();for(o=(p-10);o<(p+11);o++){m.append('<li data-year="'+o+'"><button type="button">'+o+"</button></li>")}l=m.find('li[data-year="'+p+'"]');l.addClass("selected");this.artificialScrolling=true;m.scrollTop(m.scrollTop()+(l.position().top-m.outerHeight()/2-l.outerHeight(true)/2));this.artificialScrolling=false;k.find("button").focus()},selectClicked:function(){var l=this.$wheelsMonth.find(".selected").attr("data-month");var k=this.$wheelsYear.find(".selected").attr("data-year");this.changeView("calendar",new Date(k,l,1))},setCulture:function(k){if(!k){return false}if(this.moment){j.lang(k)}else{throw i}},setDate:function(k){var l=this.parseDate(k);if(!this.isInvalidDate(l)){if(!this.isRestricted(l.getDate(),l.getMonth(),l.getFullYear())){this.selectedDate=l;this.renderMonth(l);this.$input.val(this.formatDate(l))}else{this.selectedDate=false;this.renderMonth()}}else{this.selectedDate=null;this.renderMonth()}this.inputValue=this.$input.val();return this.selectedDate},setFormat:function(k){if(!k){return false}if(this.moment){this.momentFormat=k}else{throw i}},setRestrictedDates:function(q){var p=[];var m=this;var n,k;var o=function(l){if(l===-Infinity){return{date:-Infinity,month:-Infinity,year:-Infinity}}else{if(l===Infinity){return{date:Infinity,month:Infinity,year:Infinity}}else{l=m.parseDate(l);return{date:l.getDate(),month:l.getMonth(),year:l.getFullYear()}}}};this.restricted=q;for(n=0,k=q.length;n<k;n++){p.push({from:o(q[n].from),to:o(q[n].to)})}this.restrictedParsed=p},titleClicked:function(k){this.changeView("wheels",new Date(this.$headerTitle.attr("data-year"),this.$headerTitle.attr("data-month"),1))},todayClicked:function(l){var k=new Date();if((k.getMonth()+"")!==this.$headerTitle.attr("data-month")||(k.getFullYear()+"")!==this.$headerTitle.attr("data-year")){this.renderMonth(k)}},yearClicked:function(k){this.$wheelsYear.find(".selected").removeClass("selected");g(k.currentTarget).parent().addClass("selected")}};g.fn.datepicker=function(l){var m=Array.prototype.slice.call(arguments,1);var n;var k=this.each(function(){var q=g(this);var p=q.data("fu.datepicker");var o=typeof l==="object"&&l;if(!p){q.data("fu.datepicker",(p=new c(this,o)))}if(typeof l==="string"){n=p[l].apply(p,m)}});return(n===undefined)?k:n};g.fn.datepicker.defaults={allowPastDates:false,date:new Date(),formatDate:null,momentConfig:{culture:"en",format:"L"},parseDate:null,restricted:[],restrictedText:"Restricted",sameYearOnly:false};g.fn.datepicker.Constructor=c;g.fn.datepicker.noConflict=function(){g.fn.datepicker=b;return this};g(document).on("mousedown.fu.datepicker.data-api","[data-initialize=datepicker]",function(l){var k=g(l.target).closest(".datepicker");if(!k.data("datepicker")){k.datepicker(k.data())}});g(document).on("click.fu.datepicker.data-api",".datepicker .dropdown-menu",function(l){var k=g(l.target);if(!k.is(".datepicker-date")||k.closest(".restricted").length){l.stopPropagation()}});g(document).on("click.fu.datepicker.data-api",".datepicker input",function(k){k.stopPropagation()});g(function(){g("[data-initialize=datepicker]").each(function(){var k=g(this);if(k.data("datepicker")){return}k.datepicker(k.data())})})})(a);(function(d){d(document.body).on("click.fu.dropdown-autoflip","[data-toggle=dropdown][data-flip]",function(f){if(d(this).data().flip==="auto"){b(d(this).next(".dropdown-menu"))}});d(document.body).on("suggested.fu.pillbox",function(g,f){b(d(f));d(f).parent().addClass("open")});function b(f){d(f).css({visibility:"hidden"});if(c(f)){f.parent().addClass("dropup")}else{f.parent().removeClass("dropup")}d(f).css({visibility:"visible"})}function c(f){var h=e(f);var g={};g.parentHeight=f.parent().outerHeight();g.parentOffsetTop=f.parent().offset().top;g.dropdownHeight=f.outerHeight();g.containerHeight=h.overflowElement.outerHeight();g.containerOffsetTop=(!!h.isWindow)?h.overflowElement.scrollTop():h.overflowElement.offset().top;g.fromTop=g.parentOffsetTop-g.containerOffsetTop;g.fromBottom=g.containerHeight-g.parentHeight-(g.parentOffsetTop-g.containerOffsetTop);if(g.dropdownHeight<g.fromBottom){return false}else{if(g.dropdownHeight<g.fromTop){return true}else{if(g.dropdownHeight>=g.fromTop&&g.dropdownHeight>=g.fromBottom){if(g.fromTop>=g.fromBottom){return true}else{return false}}}}}function e(f){var h=window;var g=true;d.each(f.parents(),function(i,j){if(d(j).css("overflow")!=="visible"){h=j;g=false;return false}});return{overflowElement:d(h),isWindow:g}}d.fn.dropdownautoflip=function(){}})(a);(function(c){var b=c.fn.loader;var d=function(e,g){this.$element=c(e);this.options=c.extend({},c.fn.loader.defaults,g);this.begin=(this.$element.is("[data-begin]"))?parseInt(this.$element.attr("data-begin"),10):1;this.delay=(this.$element.is("[data-delay]"))?parseFloat(this.$element.attr("data-delay")):150;this.end=(this.$element.is("[data-end]"))?parseInt(this.$element.attr("data-end"),10):8;this.frame=(this.$element.is("[data-frame]"))?parseInt(this.$element.attr("data-frame"),10):this.begin;this.isIElt9=false;this.timeout={};var f=this.msieVersion();if(f!==false&&f<9){this.$element.addClass("iefix");this.isIElt9=true}this.$element.attr("data-frame",this.frame+"");this.play()};d.prototype={constructor:d,destroy:function(){this.$element.remove();return this.$element[0].outerHTML},ieRepaint:function(){if(this.isIElt9){this.$element.addClass("iefix_repaint").removeClass("iefix_repaint")}},msieVersion:function(){var f=window.navigator.userAgent;var e=f.indexOf("MSIE ");if(e>0){return parseInt(f.substring(e+5,f.indexOf(".",e)),10)}else{return false}},next:function(){this.frame++;if(this.frame>this.end){this.frame=this.begin}this.$element.attr("data-frame",this.frame+"");this.ieRepaint()},pause:function(){clearTimeout(this.timeout)},play:function(){var e=this;clearTimeout(this.timeout);this.timeout=setTimeout(function(){e.next();e.play()},this.delay)},previous:function(){this.frame--;if(this.frame<this.begin){this.frame=this.end}this.$element.attr("data-frame",this.frame+"");this.ieRepaint()},reset:function(){this.frame=this.begin;this.$element.attr("data-frame",this.frame+"");this.ieRepaint()}};c.fn.loader=function(f){var g=Array.prototype.slice.call(arguments,1);var h;var e=this.each(function(){var k=c(this);var j=k.data("fu.loader");var i=typeof f==="object"&&f;if(!j){k.data("fu.loader",(j=new d(this,i)))}if(typeof f==="string"){h=j[f].apply(j,g)}});return(h===undefined)?e:h};c.fn.loader.defaults={};c.fn.loader.Constructor=d;c.fn.loader.noConflict=function(){c.fn.loader=b;return this};c(function(){c("[data-initialize=loader]").each(function(){var e=c(this);if(!e.data("fu.loader")){e.loader(e.data())}})})})(a);(function(d){var c=d.fn.placard;var b=function(f,g){var e=this;this.$element=d(f);this.options=d.extend({},d.fn.placard.defaults,g);this.$accept=this.$element.find(".placard-accept");this.$cancel=this.$element.find(".placard-cancel");this.$field=this.$element.find(".placard-field");this.$footer=this.$element.find(".placard-footer");this.$header=this.$element.find(".placard-header");this.$popup=this.$element.find(".placard-popup");this.actualValue=null;this.clickStamp="_";this.previousValue="";if(this.options.revertOnCancel===-1){this.options.revertOnCancel=(this.$accept.length>0)?true:false}this.$field.on("focus.fu.placard",d.proxy(this.show,this));this.$accept.on("click.fu.placard",d.proxy(this.complete,this,"accept"));this.$cancel.on("click.fu.placard",function(h){h.preventDefault();e.complete("cancel")});this.ellipsis()};b.prototype={constructor:b,complete:function(e){var f=this.options["on"+e[0].toUpperCase()+e.substring(1)];var g={previousValue:this.previousValue,value:this.$field.val()};if(f){f(g);this.$element.trigger(e,g)}else{if(e==="cancel"&&this.options.revertOnCancel){this.$field.val(this.previousValue)}this.$element.trigger(e,g);this.hide()}},destroy:function(){this.$element.remove();d(document).off("click.fu.placard.externalClick."+this.clickStamp);this.$element.find("input").each(function(){d(this).attr("value",d(this).val())});return this.$element[0].outerHTML},disable:function(){this.$element.addClass("disabled");this.$field.attr("disabled","disabled");this.hide()},ellipsis:function(){var f,e,g;if(this.$element.attr("data-ellipsis")==="true"){f=this.$field.get(0);if(this.$field.is("input")){f.scrollLeft=0}else{f.scrollTop=0;if(f.clientHeight<f.scrollHeight){this.actualValue=this.$field.val();this.$field.val("");g="";e=0;while(f.clientHeight>=f.scrollHeight){g+=this.actualValue[e];this.$field.val(g+"...");e++}g=(g.length>0)?g.substring(0,g.length-1):"";this.$field.val(g+"...")}}}},enable:function(){this.$element.removeClass("disabled");this.$field.removeAttr("disabled")},externalClickListener:function(g,f){if(f===true||this.isExternalClick(g)){this.complete(this.options.externalClickAction)}},getValue:function(){if(this.actualValue!==null){return this.actualValue}else{return this.$field.val()}},hide:function(){if(!this.$element.hasClass("showing")){return}this.$element.removeClass("showing");this.ellipsis();d(document).off("click.fu.placard.externalClick."+this.clickStamp);this.$element.trigger("hidden.fu.placard")},isExternalClick:function(m){var k=this.$element.get(0);var h=this.options.externalClickExceptions||[];var g=d(m.target);var j,f;if(m.target===k||g.parents(".placard:first").get(0)===k){return false}else{for(j=0,f=h.length;j<f;j++){if(g.is(h[j])||g.parents(h[j]).length>0){return false}}}return true},setValue:function(e){this.$field.val(e);if(!this.$element.hasClass("showing")){this.ellipsis()}},show:function(){var e;if(this.$element.hasClass("showing")){return}e=d(document).find(".placard.showing");if(e.length>0){if(e.data("fu.placard")&&e.data("fu.placard").options.explicit){return}e.placard("externalClickListener",{},true)}this.previousValue=this.$field.val();this.$element.addClass("showing");if(this.actualValue!==null){this.$field.val(this.actualValue);this.actualValue=null}if(this.$header.length>0){this.$popup.css("top","-"+this.$header.outerHeight(true)+"px")}if(this.$footer.length>0){this.$popup.css("bottom","-"+this.$footer.outerHeight(true)+"px")}this.$element.trigger("shown.fu.placard");this.clickStamp=new Date().getTime()+(Math.floor(Math.random()*100)+1);if(!this.options.explicit){d(document).on("click.fu.placard.externalClick."+this.clickStamp,d.proxy(this.externalClickListener,this))}}};d.fn.placard=function(f){var g=Array.prototype.slice.call(arguments,1);var h;var e=this.each(function(){var k=d(this);var j=k.data("fu.placard");var i=typeof f==="object"&&f;if(!j){k.data("fu.placard",(j=new b(this,i)))}if(typeof f==="string"){h=j[f].apply(j,g)}});return(h===undefined)?e:h};d.fn.placard.defaults={onAccept:undefined,onCancel:undefined,externalClickAction:"cancel",externalClickExceptions:[],explicit:false,revertOnCancel:-1};d.fn.placard.Constructor=b;d.fn.placard.noConflict=function(){d.fn.placard=c;return this};d(document).on("focus.fu.placard.data-api","[data-initialize=placard]",function(g){var f=d(g.target).closest(".placard");if(!f.data("fu.placard")){f.placard(f.data())}});d(function(){d("[data-initialize=placard]").each(function(){var e=d(this);if(e.data("fu.placard")){return}e.placard(e.data())})})})(a);(function(c){var b=c.fn.radio;var d=function(f,g){this.options=c.extend({},c.fn.radio.defaults,g);this.$radio=c(f).is('input[type="radio"]')?c(f):c(f).find('input[type="radio"]:first');this.$label=this.$radio.parent();this.groupName=this.$radio.attr("name");this.$parent=this.$label.parent(".radio");this.$toggleContainer=null;if(this.$parent.length===0){this.$parent=null}var e=this.$radio.attr("data-toggle");if(e){this.$toggleContainer=c(e)}this.setState(this.$radio);this.$radio.on("change.fu.radio",c.proxy(this.itemchecked,this))};d.prototype={constructor:d,destroy:function(){this.$parent.remove();return this.$parent[0].outerHTML},setState:function(e){e=e||this.$radio;var g=e.is(":checked");var f=!!e.prop("disabled");this.$label.removeClass("checked");if(this.$parent){this.$parent.removeClass("checked disabled")}if(g===true){this.$label.addClass("checked");if(this.$parent){this.$parent.addClass("checked")}}if(f===true){this.$label.addClass("disabled");if(this.$parent){this.$parent.addClass("disabled")}}this.toggleContainer()},resetGroup:function(){var e=c('input[name="'+this.groupName+'"]');e.each(function(){var f=c(this).parent("label");f.removeClass("checked");f.parent(".radio").removeClass("checked")})},enable:function(){this.$radio.attr("disabled",false);this.$label.removeClass("disabled");if(this.$parent){this.$parent.removeClass("disabled")}},disable:function(){this.$radio.attr("disabled",true);this.$label.addClass("disabled");if(this.$parent){this.$parent.addClass("disabled")}},itemchecked:function(g){var f=c(g.target);this.resetGroup();this.setState(f)},check:function(){this.resetGroup();this.$radio.prop("checked",true);this.setState(this.$radio)},toggleContainer:function(){var e;if(this.$toggleContainer){if(this.isChecked()){e=c('input[name="'+this.groupName+'"]');e.each(function(){var f=c(this).attr("data-toggle");c(f).addClass("hide");c(f).attr("aria-hidden","true")});this.$toggleContainer.removeClass("hide");this.$toggleContainer.attr("aria-hidden","false")}else{this.$toggleContainer.addClass("hide");this.$toggleContainer.attr("aria-hidden","true")}}},uncheck:function(){this.$radio.prop("checked",false);this.setState(this.$radio)},isChecked:function(){return this.$radio.is(":checked")}};c.fn.radio=function(f){var g=Array.prototype.slice.call(arguments,1);var h;var e=this.each(function(){var k=c(this);var j=k.data("fu.radio");var i=typeof f==="object"&&f;if(!j){k.data("fu.radio",(j=new d(this,i)))}if(typeof f==="string"){h=j[f].apply(j,g)}});return(h===undefined)?e:h};c.fn.radio.defaults={};c.fn.radio.Constructor=d;c.fn.radio.noConflict=function(){c.fn.radio=b;return this};c(document).on("mouseover.fu.checkbox.data-api","[data-initialize=radio]",function(g){var f=c(g.target).closest(".radio").find("[type=radio]");if(!f.data("fu.radio")){f.radio(f.data())}});c(function(){c("[data-initialize=radio] [type=radio]").each(function(){var e=c(this);if(e.data("fu.radio")){return}e.radio(e.data())})})})(a);(function(d){var b=d.fn.search;var c=function(e,f){this.$element=d(e);this.options=d.extend({},d.fn.search.defaults,f);this.$button=this.$element.find("button");this.$input=this.$element.find("input");this.$icon=this.$element.find(".glyphicon");this.$button.on("click.fu.search",d.proxy(this.buttonclicked,this));this.$input.on("keydown.fu.search",d.proxy(this.keypress,this));this.$input.on("keyup.fu.search",d.proxy(this.keypressed,this));this.activeSearch=""};c.prototype={constructor:c,destroy:function(){this.$element.remove();this.$element.find("input").each(function(){d(this).attr("value",d(this).val())});return this.$element[0].outerHTML},search:function(e){if(this.$icon.hasClass("glyphicon")){this.$icon.removeClass("glyphicon-search").addClass("glyphicon-remove")}this.activeSearch=e;this.$element.addClass("searched");this.$element.trigger("searched.fu.search",e)},clear:function(){if(this.$icon.hasClass("glyphicon")){this.$icon.removeClass("glyphicon-remove").addClass("glyphicon-search")}this.activeSearch="";this.$input.val("");this.$element.removeClass("searched");this.$element.trigger("cleared.fu.search")},action:function(){var f=this.$input.val();var e=f===""||f===this.activeSearch;if(this.activeSearch&&e){this.clear()}else{if(f){this.search(f)}}},buttonclicked:function(f){f.preventDefault();if(d(f.currentTarget).is(".disabled, :disabled")){return}this.action()},keypress:function(f){if(f.which===13){f.preventDefault()}},keypressed:function(g){var h,f;if(g.which===13){g.preventDefault();this.action()}else{h=this.$input.val();f=h&&(h===this.activeSearch);this.$icon.attr("class",f?"glyphicon glyphicon-remove":"glyphicon glyphicon-search")}},disable:function(){this.$element.addClass("disabled");this.$input.attr("disabled","disabled");this.$button.addClass("disabled")},enable:function(){this.$element.removeClass("disabled");this.$input.removeAttr("disabled");this.$button.removeClass("disabled")}};d.fn.search=function(f){var g=Array.prototype.slice.call(arguments,1);var h;var e=this.each(function(){var k=d(this);var j=k.data("fu.search");var i=typeof f==="object"&&f;if(!j){k.data("fu.search",(j=new c(this,i)))}if(typeof f==="string"){h=j[f].apply(j,g)}});return(h===undefined)?e:h};d.fn.search.defaults={};d.fn.search.Constructor=c;d.fn.search.noConflict=function(){d.fn.search=b;return this};d(document).on("mousedown.fu.search.data-api","[data-initialize=search]",function(g){var f=d(g.target).closest(".search");if(!f.data("fu.search")){f.search(f.data())}});d(function(){d("[data-initialize=search]").each(function(){var e=d(this);if(e.data("fu.search")){return}e.search(e.data())})})})(a);(function(d){var b=d.fn.selectlist;var c=function(e,f){this.$element=d(e);this.options=d.extend({},d.fn.selectlist.defaults,f);this.$button=this.$element.find(".btn.dropdown-toggle");this.$hiddenField=this.$element.find(".hidden-field");this.$label=this.$element.find(".selected-label");this.$element.on("click.fu.selectlist",".dropdown-menu a",d.proxy(this.itemClicked,this));this.setDefaultSelection();if(f.resize==="auto"){this.resize()}};c.prototype={constructor:c,destroy:function(){this.$element.remove();return this.$element[0].outerHTML},doSelect:function(e){var f;this.$selectedItem=f=e;this.$hiddenField.val(this.$selectedItem.attr("data-value"));this.$label.html(d(this.$selectedItem.children()[0]).html());this.$element.find("li").each(function(){if(f.is(d(this))){d(this).attr("data-selected",true)}else{d(this).removeData("selected").removeAttr("data-selected")}})},itemClicked:function(f){this.$element.trigger("clicked.fu.selectlist",this.$selectedItem);f.preventDefault();if(!(d(f.target).parent().is(this.$selectedItem))){this.itemChanged(f)}this.$element.find(".dropdown-toggle").focus()},itemChanged:function(g){this.doSelect(d(g.target).parent());var f=this.selectedItem();this.$element.trigger("changed.fu.selectlist",f)},resize:function(){var f=0;var g=d("<div/>").addClass("selectlist-sizer");var e=0;if(Boolean(d(document).find("html").hasClass("fuelux"))){d(document.body).append(g)}else{d(".fuelux:first").append(g)}this.$element.find("a").each(function(){g.text(d(this).text());f=g.outerWidth();if(f>e){e=f}});g.remove();this.$label.width(e)},selectedItem:function(){var e=this.$selectedItem.text();return d.extend({text:e},this.$selectedItem.data())},selectByText:function(f){var e=d([]);this.$element.find("li").each(function(){if((this.textContent||this.innerText||d(this).text()||"").toLowerCase()===(f||"").toLowerCase()){e=d(this);return false}});this.doSelect(e)},selectByValue:function(f){var e='li[data-value="'+f+'"]';this.selectBySelector(e)},selectByIndex:function(f){var e="li:eq("+f+")";this.selectBySelector(e)},selectBySelector:function(e){var f=this.$element.find(e);this.doSelect(f)},setDefaultSelection:function(){var e=this.$element.find("li[data-selected=true]").eq(0);if(e.length===0){e=this.$element.find("li").has("a").eq(0)}this.doSelect(e)},enable:function(){this.$element.removeClass("disabled");this.$button.removeClass("disabled")},disable:function(){this.$element.addClass("disabled");this.$button.addClass("disabled")}};d.fn.selectlist=function(f){var g=Array.prototype.slice.call(arguments,1);var h;var e=this.each(function(){var k=d(this);var j=k.data("fu.selectlist");var i=typeof f==="object"&&f;if(!j){k.data("fu.selectlist",(j=new c(this,i)))}if(typeof f==="string"){h=j[f].apply(j,g)}});return(h===undefined)?e:h};d.fn.selectlist.defaults={};d.fn.selectlist.Constructor=c;d.fn.selectlist.noConflict=function(){d.fn.selectlist=b;return this};d(document).on("mousedown.fu.selectlist.data-api","[data-initialize=selectlist]",function(g){var f=d(g.target).closest(".selectlist");if(!f.data("fu.selectlist")){f.selectlist(f.data())}});d(function(){d("[data-initialize=selectlist]").each(function(){var e=d(this);if(!e.data("fu.selectlist")){e.selectlist(e.data())}})})})(a);(function(d){var b=d.fn.spinbox;var c=function(e,f){this.$element=d(e);this.options=d.extend({},d.fn.spinbox.defaults,f);this.$input=this.$element.find(".spinbox-input");this.$element.on("focusin.fu.spinbox",this.$input,d.proxy(this.changeFlag,this));this.$element.on("focusout.fu.spinbox",this.$input,d.proxy(this.change,this));this.$element.on("keydown.fu.spinbox",this.$input,d.proxy(this.keydown,this));this.$element.on("keyup.fu.spinbox",this.$input,d.proxy(this.keyup,this));this.bindMousewheelListeners();this.mousewheelTimeout={};if(this.options.hold){this.$element.on("mousedown.fu.spinbox",".spinbox-up",d.proxy(function(){this.startSpin(true)},this));this.$element.on("mouseup.fu.spinbox",".spinbox-up, .spinbox-down",d.proxy(this.stopSpin,this));this.$element.on("mouseout.fu.spinbox",".spinbox-up, .spinbox-down",d.proxy(this.stopSpin,this));this.$element.on("mousedown.fu.spinbox",".spinbox-down",d.proxy(function(){this.startSpin(false)},this))}else{this.$element.on("click.fu.spinbox",".spinbox-up",d.proxy(function(){this.step(true)},this));this.$element.on("click.fu.spinbox",".spinbox-down",d.proxy(function(){this.step(false)},this))}this.switches={count:1,enabled:true};if(this.options.speed==="medium"){this.switches.speed=300}else{if(this.options.speed==="fast"){this.switches.speed=100}else{this.switches.speed=500}}this.lastValue=this.options.value;this.render();if(this.options.disabled){this.disable()}};c.prototype={constructor:c,destroy:function(){this.$element.remove();this.$element.find("input").each(function(){d(this).attr("value",d(this).val())});return this.$element[0].outerHTML},render:function(){var e=this.parseInput(this.$input.val());var f="";if(e!==""&&this.options.value===0){this.value(e)}else{this.output(this.options.value)}if(this.options.units.length){d.each(this.options.units,function(g,h){if(h.length>f.length){f=h}})}},output:function(f,e){f=(f+"").split(".").join(this.options.decimalMark);e=(e||true);if(e){this.$input.val(f)}return f},parseInput:function(e){e=(e+"").split(this.options.decimalMark).join(".");return e},change:function(){var e=this.parseInput(this.$input.val())||"";if(this.options.units.length||this.options.decimalMark!=="."){e=this.parseValueWithUnit(e)}else{if(e/1){e=this.options.value=this.checkMaxMin(e/1)}else{e=this.checkMaxMin(e.replace(/[^0-9.-]/g,"")||"");this.options.value=e/1}}this.output(e);this.changeFlag=false;this.triggerChangedEvent()},changeFlag:function(){this.changeFlag=true},stopSpin:function(){if(this.switches.timeout!==undefined){clearTimeout(this.switches.timeout);this.switches.count=1;this.triggerChangedEvent()}},triggerChangedEvent:function(){var e=this.value();if(e===this.lastValue){return}this.lastValue=e;this.$element.trigger("changed.fu.spinbox",this.output(e,false))},startSpin:function(e){if(!this.options.disabled){var f=this.switches.count;if(f===1){this.step(e);f=1}else{if(f<3){f=1.5}else{if(f<8){f=2.5}else{f=4}}}this.switches.timeout=setTimeout(d.proxy(function(){this.iterate(e)},this),this.switches.speed/f);this.switches.count++}},iterate:function(e){this.step(e);this.startSpin(e)},step:function(i){var h,g,k,f;if(this.changeFlag){this.change()}k=this.options.value;f=i?this.options.max:this.options.min;if((i?k<f:k>f)){var j=k+(i?1:-1)*this.options.step;if(this.options.step%1!==0){h=(this.options.step+"").split(".")[1].length;g=Math.pow(10,h);j=Math.round(j*g)/g}if(i?j>f:j<f){this.value(f)}else{this.value(j)}}else{if(this.options.cycle){var e=i?this.options.min:this.options.max;this.value(e)}}},value:function(e){if(e||e===0){if(this.options.units.length||this.options.decimalMark!=="."){this.output(this.parseValueWithUnit(e+(this.unit||"")));return this}else{if(!isNaN(parseFloat(e))&&isFinite(e)){this.options.value=e/1;this.output(e+(this.unit?this.unit:""));return this}}}else{if(this.changeFlag){this.change()}if(this.unit){return this.options.value+this.unit}else{return this.output(this.options.value,false)}}},isUnitLegal:function(e){var f;d.each(this.options.units,function(g,h){if(h.toLowerCase()===e.toLowerCase()){f=e.toLowerCase();return false}});return f},parseValueWithUnit:function(g){var f=g.replace(/[^a-zA-Z]/g,"");var e=g.replace(/[^0-9.-]/g,"");if(f){f=this.isUnitLegal(f)}this.options.value=this.checkMaxMin(e/1);this.unit=f||undefined;return this.options.value+(f||"")},checkMaxMin:function(e){if(isNaN(parseFloat(e))){return e}if(!(e<=this.options.max&&e>=this.options.min)){e=e>=this.options.max?this.options.max:this.options.min}return e},disable:function(){this.options.disabled=true;this.$element.addClass("disabled");this.$input.attr("disabled","");this.$element.find("button").addClass("disabled")},enable:function(){this.options.disabled=false;this.$element.removeClass("disabled");this.$input.removeAttr("disabled");this.$element.find("button").removeClass("disabled")},keydown:function(e){var f=e.keyCode;if(f===38){this.step(true)}else{if(f===40){this.step(false)}}},keyup:function(e){var f=e.keyCode;if(f===38||f===40){this.triggerChangedEvent()}},bindMousewheelListeners:function(){var e=this.$input.get(0);if(e.addEventListener){e.addEventListener("mousewheel",d.proxy(this.mousewheelHandler,this),false);e.addEventListener("DOMMouseScroll",d.proxy(this.mousewheelHandler,this),false)}else{e.attachEvent("onmousewheel",d.proxy(this.mousewheelHandler,this))}},mousewheelHandler:function(g){var h=window.event||g;var i=Math.max(-1,Math.min(1,(h.wheelDelta||-h.detail)));var f=this;clearTimeout(this.mousewheelTimeout);this.mousewheelTimeout=setTimeout(function(){f.triggerChangedEvent()},300);if(i<0){this.step(true)}else{this.step(false)}if(h.preventDefault){h.preventDefault()}else{h.returnValue=false}return false}};d.fn.spinbox=function(f){var g=Array.prototype.slice.call(arguments,1);var h;var e=this.each(function(){var k=d(this);var j=k.data("fu.spinbox");var i=typeof f==="object"&&f;if(!j){k.data("fu.spinbox",(j=new c(this,i)))}if(typeof f==="string"){h=j[f].apply(j,g)}});return(h===undefined)?e:h};d.fn.spinbox.defaults={value:0,min:0,max:999,step:1,hold:true,speed:"medium",disabled:false,cycle:false,units:[],decimalMark:"."};d.fn.spinbox.Constructor=c;d.fn.spinbox.noConflict=function(){d.fn.spinbox=b;return this};d(document).on("mousedown.fu.spinbox.data-api","[data-initialize=spinbox]",function(g){var f=d(g.target).closest(".spinbox");if(!f.data("fu.spinbox")){f.spinbox(f.data())}});d(function(){d("[data-initialize=spinbox]").each(function(){var e=d(this);if(!e.data("fu.spinbox")){e.spinbox(e.data())}})})})(a);(function(c){var b=c.fn.tree;var d=function(e,f){this.$element=c(e);this.options=c.extend({},c.fn.tree.defaults,f);this.$element.on("click.fu.tree",".tree-item",c.proxy(function(g){this.selectItem(g.currentTarget)},this));this.$element.on("click.fu.tree",".tree-branch-name",c.proxy(function(g){this.openFolder(g.currentTarget)},this));if(this.options.folderSelect){this.$element.off("click.fu.tree",".tree-branch-name");this.$element.on("click.fu.tree",".icon-caret",c.proxy(function(g){this.openFolder(c(g.currentTarget).parent())},this));this.$element.on("click.fu.tree",".tree-branch-name",c.proxy(function(g){this.selectFolder(c(g.currentTarget))},this))}this.render()};d.prototype={constructor:d,destroy:function(){this.$element.find("li:not([data-template])").remove();this.$element.remove();return this.$element[0].outerHTML},render:function(){this.populate(this.$element)},populate:function(f){var e=this;var h=(f.hasClass("tree"))?f:f.parent();var g=h.find(".tree-loader:eq(0)");g.removeClass("hide");this.options.dataSource(this.options.folderSelect?h.data():f.data(),function(i){g.addClass("hide");c.each(i.data,function(j,m){var k;if(m.type==="folder"){k=e.$element.find("[data-template=treebranch]:eq(0)").clone().removeClass("hide").removeAttr("data-template");k.data(m);k.find(".tree-branch-name > .tree-label").html(m.name)}else{if(m.type==="item"){k=e.$element.find("[data-template=treeitem]:eq(0)").clone().removeClass("hide").removeAttr("data-template");k.find(".tree-item-name > .tree-label").html(m.name);k.data(m)}}var l=m.dataAttributes||[];c.each(l,function(n,o){switch(n){case"class":case"classes":case"className":k.addClass(o);break;case"data-icon":k.find(".icon-item").removeClass().addClass("icon-item "+o);k.attr(n,o);break;case"id":k.attr(n,o);k.attr("aria-labelledby",o+"-label");k.find(".tree-branch-name > .tree-label").attr("id",o+"-label");break;default:k.attr(n,o);break}});if(f.hasClass("tree-branch-header")){h.find(".tree-branch-children:eq(0)").append(k)}else{f.append(k)}});e.$element.trigger("loaded.fu.tree",h)})},selectItem:function(h){var g=c(h);var j=this.$element.find(".tree-selected");var i=[];var e=g.find(".icon-item");if(this.options.multiSelect){c.each(j,function(l,m){var k=c(m);if(k[0]!==g[0]){i.push(c(m).data())}})}else{if(j[0]!==g[0]){j.removeClass("tree-selected").find(".glyphicon").removeClass("glyphicon-ok").addClass("fueluxicon-bullet");i.push(g.data())}}var f="selected";if(g.hasClass("tree-selected")){f="unselected";g.removeClass("tree-selected");if(e.hasClass("glyphicon-ok")||e.hasClass("fueluxicon-bullet")){e.removeClass("glyphicon-ok").addClass("fueluxicon-bullet")}}else{g.addClass("tree-selected");if(e.hasClass("glyphicon-ok")||e.hasClass("fueluxicon-bullet")){e.removeClass("fueluxicon-bullet").addClass("glyphicon-ok")}if(this.options.multiSelect){i.push(g.data())}}if(i.length){this.$element.trigger("selected",{selected:i})}g.trigger("updated.fu.tree",{selected:i,item:g,eventType:f})},openFolder:function(i){var h=c(i);var l;var e;var j;if(!this.options.folderSelect){h=c(i).parent()}l=h.closest(".tree-branch");e=l.find(".tree-branch-children");j=e.eq(0);var g,k,f;if(h.find(".glyphicon-folder-close").length){g="opened";k=".glyphicon-folder-close";f="glyphicon-folder-open";l.addClass("tree-open");l.attr("aria-expanded","true");j.removeClass("hide");if(!e.children().length){this.populate(e)}}else{if(h.find(".glyphicon-folder-open")){g="closed";k=".glyphicon-folder-open";f="glyphicon-folder-close";l.removeClass("tree-open");l.attr("aria-expanded","false");j.addClass("hide");if(!this.options.cacheItems){j.empty()}}}l.find("> .tree-branch-header .icon-folder").eq(0).removeClass("glyphicon-folder-close glyphicon-folder-open").addClass(f);this.$element.trigger(g,l.data())},selectFolder:function(g){var j=c(g);var f=j.closest(".tree-branch");var e=this.$element.find(".tree-branch.tree-selected");var i=[];var h="selected";if(f.hasClass("tree-selected")){h="unselected";f.removeClass("tree-selected")}else{f.addClass("tree-selected")}if(this.options.multiSelect){e=this.$element.find(".tree-branch.tree-selected");c.each(e,function(k,m){var l=c(m);if(l[0]!==j[0]){i.push(c(m).data())}})}else{if(e[0]!==j[0]){e.removeClass("tree-selected");i.push(f.data())}}if(i.length){this.$element.trigger("selected.fu.tree",{selected:i})}j.trigger("updated.fu.tree",{selected:i,item:j,eventType:h})},selectedItems:function(){var f=this.$element.find(".tree-selected");var e=[];c.each(f,function(g,h){e.push(c(h).data())});return e},collapse:function(){var e=this.options.cacheItems;this.$element.find(".icon-folder-open").each(function(){var g=c(this).removeClass("icon-folder-close icon-folder-open").addClass("icon-folder-close");var f=g.parent().parent();var h=f.children(".tree-branch-children");h.addClass("hide");if(!e){h.empty()}})}};c.fn.tree=function(f){var g=Array.prototype.slice.call(arguments,1);var h;var e=this.each(function(){var k=c(this);var j=k.data("fu.tree");var i=typeof f==="object"&&f;if(!j){k.data("fu.tree",(j=new d(this,i)))}if(typeof f==="string"){h=j[f].apply(j,g)}});return(h===undefined)?e:h};c.fn.tree.defaults={dataSource:function(e,f){},multiSelect:false,cacheItems:true,folderSelect:true};c.fn.tree.Constructor=d;c.fn.tree.noConflict=function(){c.fn.tree=b;return this}})(a);(function(d){var c=d.fn.wizard;var b=function(f,g){var e;this.$element=d(f);this.options=d.extend({},d.fn.wizard.defaults,g);this.options.disablePreviousStep=(this.$element.attr("data-restrict")==="previous")?true:this.options.disablePreviousStep;this.currentStep=this.options.selectedItem.step;this.numSteps=this.$element.find(".steps li").length;this.$prevBtn=this.$element.find("button.btn-prev");this.$nextBtn=this.$element.find("button.btn-next");e=this.$nextBtn.children().detach();this.nextText=d.trim(this.$nextBtn.text());this.$nextBtn.append(e);this.$prevBtn.on("click.fu.wizard",d.proxy(this.previous,this));this.$nextBtn.on("click.fu.wizard",d.proxy(this.next,this));this.$element.on("click.fu.wizard","li.complete",d.proxy(this.stepclicked,this));this.selectedItem(this.options.selectedItem);if(this.options.disablePreviousStep){this.$prevBtn.attr("disabled",true);this.$element.find(".steps").addClass("previous-disabled")}};b.prototype={constructor:b,destroy:function(){this.$element.remove();return this.$element[0].outerHTML},addSteps:function(k){var m=[].slice.call(arguments).slice(1);var n=this.$element.find(".steps");var g=this.$element.find(".step-content");var j,h,f,p,o,e;k=(k===-1||(k>(this.numSteps+1)))?this.numSteps+1:k;if(m[0] instanceof Array){m=m[0]}o=n.find("li:nth-child("+k+")");p=g.find(".step-pane:nth-child("+k+")");if(o.length<1){o=null}for(j=0,h=m.length;j<h;j++){e=d('<li data-step="'+k+'"><span class="badge badge-info"></span></li>');e.append(m[j].label||"").append('<span class="chevron"></span>');e.find(".badge").append(m[j].badge||k);f=d('<div class="step-pane" data-step="'+k+'"></div>');f.append(m[j].pane||"");if(!o){n.append(e);g.append(f)}else{o.before(e);p.before(f)}k++}this.syncSteps();this.numSteps=n.find("li").length;this.setState()},removeSteps:function(g,j){var e="nextAll";var h=0;var l=this.$element.find(".steps");var f=this.$element.find(".step-content");var k;j=(j!==undefined)?j:1;if(g>l.find("li").length){k=l.find("li:last")}else{k=l.find("li:nth-child("+g+")").prev();if(k.length<1){e="children";k=l}}k[e]().each(function(){var m=d(this);var i=m.attr("data-step");if(h<j){m.remove();f.find('.step-pane[data-step="'+i+'"]:first').remove()}else{return false}h++});this.syncSteps();this.numSteps=l.find("li").length;this.setState()},setState:function(){var q=(this.currentStep>1);var v=(this.currentStep===1);var n=(this.currentStep===this.numSteps);if(!this.options.disablePreviousStep){this.$prevBtn.attr("disabled",(v===true||q===false))}var s=this.$nextBtn.attr("data-last");if(s){this.lastText=s;var u=this.nextText;if(n===true){u=this.lastText;this.$element.addClass("complete")}else{this.$element.removeClass("complete")}var g=this.$nextBtn.children().detach();this.$nextBtn.text(u).append(g)}var o=this.$element.find(".steps li");o.removeClass("active").removeClass("complete");o.find("span.badge").removeClass("badge-info").removeClass("badge-success");var r=".steps li:lt("+(this.currentStep-1)+")";var k=this.$element.find(r);k.addClass("complete");k.find("span.badge").addClass("badge-success");var m=".steps li:eq("+(this.currentStep-1)+")";var t=this.$element.find(m);t.addClass("active");t.find("span.badge").addClass("badge-info");var j=this.$element.find(".step-content");var f=t.attr("data-step");j.find(".step-pane").removeClass("active");j.find('.step-pane[data-step="'+f+'"]:first').addClass("active");this.$element.find(".steps").first().attr("style","margin-left: 0");var i=0;this.$element.find(".steps > li").each(function(){i+=d(this).outerWidth()});var p=0;if(this.$element.find(".actions").length){p=this.$element.width()-this.$element.find(".actions").first().outerWidth()}else{p=this.$element.width()}if(i>p){var h=i-p;this.$element.find(".steps").first().attr("style","margin-left: -"+h+"px");if(this.$element.find("li.active").first().position().left<200){h+=this.$element.find("li.active").first().position().left-200;if(h<1){this.$element.find(".steps").first().attr("style","margin-left: 0")}else{this.$element.find(".steps").first().attr("style","margin-left: -"+h+"px")}}}if(typeof(this.initialized)!=="undefined"){var l=d.Event("changed.fu.wizard");this.$element.trigger(l,{step:this.currentStep})}this.initialized=true},stepclicked:function(j){var f=d(j.currentTarget);var h=this.$element.find(".steps li").index(f);var i=true;if(this.options.disablePreviousStep){if(h<this.currentStep){i=false}}if(i){var g=d.Event("stepclicked.fu.wizard");this.$element.trigger(g,{step:h+1});if(g.isDefaultPrevented()){return}this.currentStep=(h+1);this.setState()}},syncSteps:function(){var f=1;var g=this.$element.find(".steps");var e=this.$element.find(".step-content");g.children().each(function(){var j=d(this);var h=j.find(".badge");var i=j.attr("data-step");if(!isNaN(parseInt(h.html(),10))){h.html(f)}j.attr("data-step",f);e.find('.step-pane[data-step="'+i+'"]:last').attr("data-step",f);f++})},previous:function(){var f=(this.currentStep>1);if(this.options.disablePreviousStep){f=false}if(f){var g=d.Event("actionclicked.fu.wizard");this.$element.trigger(g,{step:this.currentStep,direction:"previous"});if(g.isDefaultPrevented()){return}this.currentStep-=1;this.setState()}if(this.$prevBtn.is(":disabled")){this.$nextBtn.focus()}else{this.$prevBtn.focus()}},next:function(){var h=(this.currentStep+1<=this.numSteps);var f=(this.currentStep===this.numSteps);if(h){var g=d.Event("actionclicked.fu.wizard");this.$element.trigger(g,{step:this.currentStep,direction:"next"});if(g.isDefaultPrevented()){return}this.currentStep+=1;this.setState()}else{if(f){this.$element.trigger("finished.fu.wizard")}}if(this.$nextBtn.is(":disabled")){this.$prevBtn.focus()}else{this.$nextBtn.focus()}},selectedItem:function(e){var g,f;if(e){f=e.step||-1;if(f>=1&&f<=this.numSteps){this.currentStep=f;this.setState()}else{f=this.$element.find(".steps li.active:first").attr("data-step");if(!isNaN(f)){this.currentStep=parseInt(f,10);this.setState()}}g=this}else{g={step:this.currentStep}}return g}};d.fn.wizard=function(f){var g=Array.prototype.slice.call(arguments,1);var h;var e=this.each(function(){var k=d(this);var j=k.data("fu.wizard");var i=typeof f==="object"&&f;if(!j){k.data("fu.wizard",(j=new b(this,i)))}if(typeof f==="string"){h=j[f].apply(j,g)}});return(h===undefined)?e:h};d.fn.wizard.defaults={disablePreviousStep:false,selectedItem:{step:-1}};d.fn.wizard.Constructor=b;d.fn.wizard.noConflict=function(){d.fn.wizard=c;return this};d(document).on("mouseover.fu.wizard.data-api","[data-initialize=wizard]",function(g){var f=d(g.target).closest(".wizard");if(!f.data("fu.wizard")){f.wizard(f.data())}});d(function(){d("[data-initialize=wizard]").each(function(){var e=d(this);if(e.data("fu.wizard")){return}e.wizard(e.data())})})})(a);(function(d){var b=d.fn.infinitescroll;var c=function(e,f){this.$element=d(e);this.$element.addClass("infinitescroll");this.options=d.extend({},d.fn.infinitescroll.defaults,f);this.curScrollTop=this.$element.scrollTop();this.curPercentage=this.getPercentage();this.fetchingData=false;this.$element.on("scroll.fu.infinitescroll",d.proxy(this.onScroll,this));this.onScroll()};c.prototype={constructor:c,destroy:function(){this.$element.remove();this.$element.empty();return this.$element[0].outerHTML},disable:function(){this.$element.off("scroll.fu.infinitescroll")},enable:function(){this.$element.on("scroll.fu.infinitescroll",d.proxy(this.onScroll,this))},end:function(f){var e=d('<div class="infinitescroll-end"></div>');if(f){e.append(f)}else{e.append("---------")}this.$element.append(e);this.disable()},getPercentage:function(){var f=(this.$element.css("box-sizing")==="border-box")?this.$element.outerHeight():this.$element.height();var e=this.$element.get(0).scrollHeight;return(e>f)?((f/(e-this.curScrollTop))*100):0},fetchData:function(h){var g=d('<div class="infinitescroll-load"></div>');var e=this;var i;var f=function(){var k={percentage:e.curPercentage,scrollTop:e.curScrollTop};var j=d('<div class="loader"></div>');g.append(j);j.loader();if(e.options.dataSource){e.options.dataSource(k,function(m){var l;g.remove();if(m.content){e.$element.append(m.content)}if(m.end){l=(m.end!==true)?m.end:undefined;e.end(l)}e.fetchingData=false})}};this.fetchingData=true;this.$element.append(g);if(this.options.hybrid&&h!==true){i=d('<button type="button" class="btn btn-primary"></button>');if(typeof this.options.hybrid==="object"){i.append(this.options.hybrid.label)}else{i.append('<span class="glyphicon glyphicon-repeat"></span>')}i.on("click.fu.infinitescroll",function(){i.remove();f()});g.append(i)}else{f()}},onScroll:function(f){this.curScrollTop=this.$element.scrollTop();this.curPercentage=this.getPercentage();if(!this.fetchingData&&this.curPercentage>=this.options.percentage){this.fetchData()}}};d.fn.infinitescroll=function(f){var g=Array.prototype.slice.call(arguments,1);var h;var e=this.each(function(){var k=d(this);var j=k.data("fu.infinitescroll");var i=typeof f==="object"&&f;if(!j){k.data("fu.infinitescroll",(j=new c(this,i)))}if(typeof f==="string"){h=j[f].apply(j,g)}});return(h===undefined)?e:h};d.fn.infinitescroll.defaults={dataSource:null,hybrid:false,percentage:95};d.fn.infinitescroll.Constructor=c;d.fn.infinitescroll.noConflict=function(){d.fn.infinitescroll=b;return this}})(a);(function(d){var b=d.fn.pillbox;var c=function(e,f){this.$element=d(e);this.$moreCount=this.$element.find(".pillbox-more-count");this.$pillGroup=this.$element.find(".pill-group");this.$addItem=this.$element.find(".pillbox-add-item");this.$addItemWrap=this.$addItem.parent();this.$suggest=this.$element.find(".suggest");this.$pillHTML='<li class="btn btn-default pill">	<span></span>	<span class="glyphicon glyphicon-close">		<span class="sr-only">Remove</span>	</span></li>';this.options=d.extend({},d.fn.pillbox.defaults,f);if(this.options.readonly===-1){if(this.$element.attr("data-readonly")!==undefined){this.readonly(true)}}else{if(this.options.readonly){this.readonly(true)}}this.acceptKeyCodes=this._generateObject(this.options.acceptKeyCodes);this.$element.on("click.fu.pillbox",".pill-group > .pill",d.proxy(this.itemClicked,this));this.$element.on("click.fu.pillbox",d.proxy(this.inputFocus,this));this.$element.on("keyup.fu.pillbox",".pillbox-add-item",d.proxy(this.inputEvent,this));if(this.options.onKeyDown){this.$element.on("mousedown.fu.pillbox",".suggest > li",d.proxy(this.suggestionClick,this))}if(this.options.edit){this.$element.addClass("pills-editable");this.$element.on("blur.fu.pillbox",".pillbox-add-item",d.proxy(this.cancelEdit,this))}};c.prototype={constructor:c,destroy:function(){this.$element.remove();return this.$element[0].outerHTML},items:function(){var e=this;return this.$pillGroup.children(".pill").map(function(){return e.getItemData(d(this))}).get()},itemClicked:function(i){var h=this;var f=d(i.target);var g;i.preventDefault();i.stopPropagation();this._closeSuggestions();if(!f.hasClass("pill")){g=f.parent();if(this.$element.attr("data-readonly")===undefined){if(f.hasClass("glyphicon-close")){if(this.options.onRemove){this.options.onRemove(this.getItemData(g,{el:g}),d.proxy(this._removeElement,this))}else{this._removeElement(this.getItemData(g,{el:g}))}return false}else{if(this.options.edit){if(g.find(".pillbox-list-edit").length){return false}this.openEdit(g)}}}}else{g=f}this.$element.trigger("clicked.fu.pillbox",this.getItemData(g))},readonly:function(e){if(e){this.$element.attr("data-readonly","readonly")}else{this.$element.removeAttr("data-readonly")}if(this.options.truncate){this.truncate(e)}},suggestionClick:function(g){var f=d(g.currentTarget);g.preventDefault();this.$addItem.val("");this.addItems({text:f.html(),value:f.data("value")},true);this._closeSuggestions()},itemCount:function(){return this.$pillGroup.children(".pill").length},addItems:function(){var f=this;var e,g,h;if(isFinite(String(arguments[0]))&&!(arguments[0] instanceof Array)){e=[].slice.call(arguments).slice(1);g=arguments[0]}else{e=[].slice.call(arguments).slice(0);h=e[1]&&!e[1].text}if(e[0] instanceof Array){e=e[0]}if(e.length){d.each(e,function(j,l){var k={text:l.text,value:(l.value?l.value:l.text),el:f.$pillHTML};e[j]=k});if(this.options.edit&&this.currentEdit){e[0].el=this.currentEdit.wrap("<div></div>").parent().html()}if(h){e.pop(1)}if(f.options.onAdd&&h){if(this.options.edit&&this.currentEdit){f.options.onAdd(e[0],d.proxy(f.saveEdit,this))}else{f.options.onAdd(e[0],d.proxy(f.placeItems,this,true))}}else{if(this.options.edit&&this.currentEdit){f.saveEdit(e)}else{if(g){f.placeItems(g,e)}else{f.placeItems(e,h)}}}}},removeItems:function(f,g){var e=this;var h;var i;if(!f){this.$pillGroup.find(".pill").remove();this._removePillTrigger({method:"removeAll"})}else{g=g?g:1;for(h=0;h<g;h++){i=e.$pillGroup.find("> .pill:nth-child("+f+")");if(i){i.remove()}else{break}}}},placeItems:function(){var f="";var e;var g;var h;var i;if(isFinite(String(arguments[0]))&&!(arguments[0] instanceof Array)){e=[].slice.call(arguments).slice(1);g=arguments[0]}else{e=[].slice.call(arguments).slice(0);i=e[1]&&!e[1].text}if(e[0] instanceof Array){e=e[0]}if(e.length){d.each(e,function(k,m){var j=d(m.el);var l;j.attr("data-value",m.value);j.find("span:first").html(m.text);f+=j.wrap("<div></div>").parent().html()});if(this.$pillGroup.children(".pill").length>0){if(g){h=this.$pillGroup.find(".pill:nth-child("+g+")");if(h.length){h.before(f)}else{this.$pillGroup.children(".pill:last").after(f)}}else{this.$pillGroup.children(".pill:last").after(f)}}else{this.$pillGroup.prepend(f)}if(i){this.$element.trigger("added.fu.pillbox",{text:e[0].text,value:e[0].value})}}},inputEvent:function(j){var f=this;var k=this.$addItem.val();var i;var g;var h;if(this.acceptKeyCodes[j.keyCode]){if(this.options.onKeyDown&&this._isSuggestionsOpen()){h=this.$suggest.find(".pillbox-suggest-sel");if(h.length){k=h.html();i=h.data("value")}}if(k.length){this._closeSuggestions();this.$addItem.hide();this.addItems({text:k,value:i},true);setTimeout(function(){f.$addItem.show().val("").attr({size:10})},0)}j.preventDefault();return true}else{if(j.keyCode===8||j.keyCode===46){if(!k.length){j.preventDefault();if(this.options.edit&&this.currentEdit){this.cancelEdit();return true}this._closeSuggestions();g=this.$pillGroup.children(".pill:last");if(g.hasClass("pillbox-highlight")){this._removeElement(this.getItemData(g,{el:g}))}else{g.addClass("pillbox-highlight")}return true}}else{if(k.length>10){if(this.$addItem.width()<(this.$pillGroup.width()-6)){this.$addItem.attr({size:k.length+3})}}}}this.$pillGroup.find(".pill").removeClass("pillbox-highlight");if(this.options.onKeyDown){if(j.keyCode===9||j.keyCode===38||j.keyCode===40){if(this._isSuggestionsOpen()){this._keySuggestions(j)}return true}this.callbackId=j.timeStamp;this.options.onKeyDown({event:j,value:k},function(e){if(e.data){f._openSuggestions(j,e)}else{f._closeSuggestions()}})}},openEdit:function(g){var f=g.index()+1;var e=this.$addItemWrap.detach().hide();this.$pillGroup.find(".pill:nth-child("+f+")").before(e);this.currentEdit=g.detach();e.addClass("editing");this.$addItem.val(g.find("span:first").html());e.show();this.$addItem.focus().select()},cancelEdit:function(g){var f;if(!this.currentEdit){return false}this._closeSuggestions();if(g){this.$addItemWrap.before(this.currentEdit)}this.currentEdit=false;f=this.$addItemWrap.detach();f.removeClass("editing");this.$addItem.val("");this.$pillGroup.append(f)},saveEdit:function(){var e=arguments[0][0];this.currentEdit=d(e.el);this.currentEdit.data("value",e.value);this.currentEdit.find("span:first").html(e.text);this.$addItemWrap.hide();this.$addItemWrap.before(this.currentEdit);this.currentEdit=false;this.$addItem.val("");this.$addItemWrap.removeClass("editing");this.$pillGroup.append(this.$addItemWrap.detach().show());this.$element.trigger("edited.fu.pillbox",{value:e.value,text:e.text})},removeBySelector:function(){var f=[].slice.call(arguments).slice(0);var e=this;d.each(f,function(g,h){e.$pillGroup.find(h).remove()});this._removePillTrigger({method:"removeBySelector",removedSelectors:f})},removeByValue:function(){var f=[].slice.call(arguments).slice(0);var e=this;d.each(f,function(g,h){e.$pillGroup.find('> .pill[data-value="'+h+'"]').remove()});this._removePillTrigger({method:"removeByValue",removedValues:f})},removeByText:function(){var f=[].slice.call(arguments).slice(0);var e=this;d.each(f,function(g,h){e.$pillGroup.find('> .pill:contains("'+h+'")').remove()});this._removePillTrigger({method:"removeByText",removedText:f})},truncate:function(k){var f=this;var e,j,h,g,l;this.$element.removeClass("truncate");this.$addItemWrap.removeClass("truncated");this.$pillGroup.find(".pill").removeClass("truncated");if(k){this.$element.addClass("truncate");e=this.$element.width();j=false;h=0;g=this.$pillGroup.find(".pill").length;l=0;this.$pillGroup.find(".pill").each(function(){var i=d(this);if(!j){h++;f.$moreCount.text(g-h);if((l+i.outerWidth(true)+f.$addItemWrap.outerWidth(true))<=e){l+=i.outerWidth(true)}else{f.$moreCount.text((g-h)+1);i.addClass("truncated");j=true}}else{i.addClass("truncated")}});if(h===g){this.$addItemWrap.addClass("truncated")}}},inputFocus:function(f){this.$element.find(".pillbox-add-item").focus()},getItemData:function(e,f){return d.extend({text:e.find("span:first").html()},e.data(),f)},_removeElement:function(e){e.el.remove();delete e.el;this.$element.trigger("removed.fu.pillbox",e)},_removePillTrigger:function(e){this.$element.trigger("removed.fu.pillbox",e)},_generateObject:function(e){var f={};d.each(e,function(g,h){f[h]=true});return f},_openSuggestions:function(h,g){var f="";if(this.callbackId!==h.timeStamp){return false}if(g.data&&g.data.length){d.each(g.data,function(e,i){var j=i.value?i.value:i.text;f+='<li data-value="'+j+'">'+i.text+"</li>"});this.$suggest.html("").append(f);d(document.body).trigger("suggested.fu.pillbox",this.$suggest)}},_closeSuggestions:function(){this.$suggest.html("").parent().removeClass("open")},_isSuggestionsOpen:function(){return this.$suggest.parent().hasClass("open")},_keySuggestions:function(i){var h=this.$suggest.find("li.pillbox-suggest-sel");var g=i.keyCode===38;var f,j;i.preventDefault();if(!h.length){h=this.$suggest.find("li:first");h.addClass("pillbox-suggest-sel")}else{f=g?h.prev():h.next();if(!f.length){f=g?this.$suggest.find("li:last"):this.$suggest.find("li:first")}if(f){f.addClass("pillbox-suggest-sel");h.removeClass("pillbox-suggest-sel")}}}};d.fn.pillbox=function(f){var g=Array.prototype.slice.call(arguments,1);var h;var e=this.each(function(){var k=d(this);var j=k.data("fu.pillbox");var i=typeof f==="object"&&f;if(!j){k.data("fu.pillbox",(j=new c(this,i)))}if(typeof f==="string"){h=j[f].apply(j,g)}});return(h===undefined)?e:h};d.fn.pillbox.defaults={onAdd:undefined,onRemove:undefined,onKeyDown:undefined,edit:false,readonly:-1,truncate:false,acceptKeyCodes:[13,188]};d.fn.pillbox.Constructor=c;d.fn.pillbox.noConflict=function(){d.fn.pillbox=b;return this};d(document).on("mousedown.fu.pillbox.data-api","[data-initialize=pillbox]",function(g){var f=d(g.target).closest(".pillbox");if(!f.data("fu.pillbox")){f.pillbox(f.data())}});d(function(){d("[data-initialize=pillbox]").each(function(){var e=d(this);if(e.data("fu.pillbox")){return}e.pillbox(e.data())})})})(a);(function(d){var b=d.fn.repeater;var c=function(f,g){var e=this;var h;this.$element=d(f);this.$canvas=this.$element.find(".repeater-canvas");this.$count=this.$element.find(".repeater-count");this.$end=this.$element.find(".repeater-end");this.$filters=this.$element.find(".repeater-filters");this.$loader=this.$element.find(".repeater-loader");this.$pageSize=this.$element.find(".repeater-itemization .selectlist");this.$nextBtn=this.$element.find(".repeater-next");this.$pages=this.$element.find(".repeater-pages");this.$prevBtn=this.$element.find(".repeater-prev");this.$primaryPaging=this.$element.find(".repeater-primaryPaging");this.$search=this.$element.find(".repeater-search").find(".search");this.$secondaryPaging=this.$element.find(".repeater-secondaryPaging");this.$start=this.$element.find(".repeater-start");this.$viewport=this.$element.find(".repeater-viewport");this.$views=this.$element.find(".repeater-views");this.eventStamp=new Date().getTime()+(Math.floor(Math.random()*100)+1);this.currentPage=0;this.currentView=null;this.infiniteScrollingCallback=function(){};this.infiniteScrollingCont=null;this.infiniteScrollingEnabled=false;this.infiniteScrollingEnd=null;this.infiniteScrollingOptions={};this.lastPageInput=0;this.options=d.extend({},d.fn.repeater.defaults,g);this.pageIncrement=0;this.resizeTimeout={};this.staticHeight=(this.options.staticHeight===-1)?this.$element.attr("data-staticheight"):this.options.staticHeight;this.$filters.selectlist();this.$pageSize.selectlist();this.$primaryPaging.find(".combobox").combobox();this.$search.search();this.$filters.on("changed.fu.selectlist",d.proxy(this.render,this,{clearInfinite:true,pageIncrement:null}));this.$nextBtn.on("click.fu.repeater",d.proxy(this.next,this));this.$pageSize.on("changed.fu.selectlist",d.proxy(this.render,this,{pageIncrement:null}));this.$prevBtn.on("click.fu.repeater",d.proxy(this.previous,this));this.$primaryPaging.find(".combobox").on("changed.fu.combobox",function(i,j){e.pageInputChange(j.text)});this.$search.on("searched.fu.search cleared.fu.search",d.proxy(this.render,this,{clearInfinite:true,pageIncrement:null}));this.$secondaryPaging.on("blur.fu.repeater",function(){e.pageInputChange(e.$secondaryPaging.val())});this.$secondaryPaging.on("change.fu.repeater",function(){e.pageInputChange(e.$secondaryPaging.val())});this.$views.find("input").on("change.fu.repeater",d.proxy(this.viewChanged,this));d(window).on("resize.fu.repeater."+this.eventStamp,function(i){clearTimeout(e.resizeTimeout);e.resizeTimeout=setTimeout(function(){e.resize();e.$element.trigger("resized.fu.repeater")},75)});this.$loader.loader();this.$loader.loader("pause");h=(this.options.defaultView!==-1)?this.options.defaultView:this.$views.find("label.active input").val();this.initViews(function(){e.resize();e.$element.trigger("resized.fu.repeater");e.render({changeView:h})})};c.prototype={constructor:c,clear:function(f){var e=function(g){var h=[];g.children().each(function(){var i=d(this);var j=i.attr("data-preserve");if(j==="deep"){i.detach();h.push(i)}else{if(j==="shallow"){e(i);i.detach();h.push(i)}}});g.empty();g.append(h)};f=f||{};if(!f.preserve){this.$canvas.empty()}else{if(!this.infiniteScrollingEnabled||f.clearInfinite){e(this.$canvas)}}},destroy:function(){var e;this.$element.find("input").each(function(){d(this).attr("value",d(this).val())});this.$canvas.empty();e=this.$element[0].outerHTML;this.$element.find(".combobox").combobox("destroy");this.$element.find(".selectlist").selectlist("destroy");this.$element.find(".search").search("destroy");if(this.infiniteScrollingEnabled){d(this.infiniteScrollingCont).infinitescroll("destroy")}this.$element.remove();d(window).off("resize.fu.repeater."+this.eventStamp);return e},getDataOptions:function(e,h){var g={};var i,f;e=e||{};g.filter=this.$filters.selectlist("selectedItem");g.view=this.currentView;if(!this.infiniteScrollingEnabled){g.pageSize=parseInt(this.$pageSize.selectlist("selectedItem").value,10)}if(e.pageIncrement!==undefined){if(e.pageIncrement===null){this.currentPage=0}else{this.currentPage+=e.pageIncrement}}g.pageIndex=this.currentPage;i=this.$search.find("input").val();if(i!==""){g.search=i}f=d.fn.repeater.views[this.currentView]||{};f=f.dataOptions;if(f){f.call(this,g,function(j){h(j)})}else{h(g)}},infiniteScrolling:function(h,g){var j=this.$element.find(".repeater-itemization");var f=this.$element.find(".repeater-pagination");var e,i;g=g||{};if(h){this.infiniteScrollingEnabled=true;this.infiniteScrollingEnd=g.end;delete g.dataSource;delete g.end;this.infiniteScrollingOptions=g;j.hide();f.hide()}else{e=this.infiniteScrollingCont;i=e.data();delete i.infinitescroll;e.off("scroll");e.removeClass("infinitescroll");this.infiniteScrollingCont=null;this.infiniteScrollingEnabled=false;this.infiniteScrollingEnd=null;this.infiniteScrollingOptions={};j.show();f.show()}},infiniteScrollPaging:function(i,g){var f=(this.infiniteScrollingEnd!==true)?this.infiniteScrollingEnd:undefined;var h=i.page;var e=i.pages;this.currentPage=(h!==undefined)?h:NaN;if((this.currentPage+1)>=e){this.infiniteScrollingCont.infinitescroll("end",f)}},initInfiniteScrolling:function(){var e=this.$canvas.find('[data-infinite="true"]:first');var g,f;e=(e.length<1)?this.$canvas:e;if(e.data("fu.infinitescroll")){e.infinitescroll("enable")}else{f=this;g=d.extend({},this.infiniteScrollingOptions);g.dataSource=function(h,i){f.infiniteScrollingCallback=i;f.render({pageIncrement:1})};e.infinitescroll(g);this.infiniteScrollingCont=e}},initViews:function(h){var e=[];var f,g;var j=function(i){var k=function(){i++;if(i<g){j(i)}else{h()}};if(e[i].initialize){e[i].initialize.call(this,{},function(){k()})}else{k()}};for(f in d.fn.repeater.views){e.push(d.fn.repeater.views[f])}g=e.length;if(g>0){j(0)}else{h()}},itemization:function(e){this.$count.html(e.count||"");this.$end.html(e.end||"");this.$start.html(e.start||"")},next:function(){var e="disabled";this.$nextBtn.attr(e,e);this.$prevBtn.attr(e,e);this.pageIncrement=1;this.render({pageIncrement:this.pageIncrement})},pageInputChange:function(f){var e;if(f!==this.lastPageInput){this.lastPageInput=f;f=parseInt(f,10)-1;e=f-this.currentPage;this.render({pageIncrement:e})}},pagination:function(m){var h="active";var n="disabled";var k=m.page;var e=m.pages;var g,j,f;this.currentPage=(k!==undefined)?k:NaN;this.$primaryPaging.removeClass(h);this.$secondaryPaging.removeClass(h);if(e<=this.options.dropPagingCap){this.$primaryPaging.addClass(h);g=this.$primaryPaging.find(".dropdown-menu");g.empty();for(j=0;j<e;j++){f=j+1;g.append('<li data-value="'+f+'"><a href="#">'+f+"</a></li>")}this.$primaryPaging.find("input.form-control").val(this.currentPage+1)}else{this.$secondaryPaging.addClass(h);this.$secondaryPaging.val(this.currentPage+1)}this.lastPageInput=this.currentPage+1+"";this.$pages.html(e);if((this.currentPage+1)<e){this.$nextBtn.removeAttr(n)}else{this.$nextBtn.attr(n,n)}if((this.currentPage-1)>=0){this.$prevBtn.removeAttr(n)}else{this.$prevBtn.attr(n,n)}if(this.pageIncrement!==0){if(this.pageIncrement>0){if(this.$nextBtn.is(":disabled")){this.$prevBtn.focus()}else{this.$nextBtn.focus()}}else{if(this.$prevBtn.is(":disabled")){this.$nextBtn.focus()}else{this.$prevBtn.focus()}}}},previous:function(){var e="disabled";this.$nextBtn.attr(e,e);this.$prevBtn.attr(e,e);this.pageIncrement=-1;this.render({pageIncrement:this.pageIncrement})},render:function(h){var g=this;var i=false;var f=d.fn.repeater.views[g.currentView]||{};var e;var j=function(){h.preserve=(h.preserve!==undefined)?h.preserve:!i;g.clear(h);if(!g.infiniteScrollingEnabled||(g.infiniteScrollingEnabled&&i)){g.$loader.show().loader("play")}g.getDataOptions(h,function(k){g.options.dataSource(k,function(m){var l=f.renderer;if(g.infiniteScrollingEnabled){g.infiniteScrollingCallback({})}else{g.itemization(m);g.pagination(m)}if(l){g.runRenderer(g.$canvas,l,m,function(){if(g.infiniteScrollingEnabled){if(i||h.clearInfinite){g.initInfiniteScrolling()}g.infiniteScrollPaging(m,h)}g.$loader.hide().loader("pause");g.$element.trigger("loaded.fu.repeater")})}})})};h=h||{};if(h.changeView&&this.currentView!==h.changeView){e=this.currentView;this.currentView=h.changeView;this.$element.attr("data-currentview",this.currentView);i=true;if(this.infiniteScrollingEnabled){g.infiniteScrolling(false)}f=d.fn.repeater.views[g.currentView]||{};if(f.selected){f.selected.call(this,{prevView:e},function(){j()})}else{j()}}else{j()}},resize:function(){var h=this.staticHeight;var e=d.fn.repeater.views[this.currentView]||{};var f,g;if(h!==undefined){this.$canvas.addClass("scrolling");g={bottom:this.$viewport.css("margin-bottom"),top:this.$viewport.css("margin-top")};f=((h==="true"||h===true)?this.$element.height():parseInt(h,10))-this.$element.find(".repeater-header").outerHeight()-this.$element.find(".repeater-footer").outerHeight()-((g.bottom==="auto")?0:parseInt(g.bottom,10))-((g.top==="auto")?0:parseInt(g.top,10));this.$viewport.outerHeight(f)}else{this.$canvas.removeClass("scrolling")}if(e.resize){e.resize.call(this,{height:this.$element.outerHeight(),width:this.$element.outerWidth()},function(){})}},runRenderer:function(o,e,k,q){var r=this;var m=false;var n,h,j,g;var p=function(l){var i={container:o,data:k};if(e.repeat){i.subset=h;i.index=l}if(h.length<1){q()}else{f(i,function(){l++;if(l<h.length){p(l)}else{q()}})}};var f=function(t,i){var u="";var s={before:function(v){if(v&&v.skipNested===true){m=true}l("render",t)},render:function(w){var v=(w&&w.action)?w.action:"append";if(w&&w.item!==undefined){u=d(w.item);if(u.length<1){u=w.item}if(v!=="none"){o[v](u)}t.item=u}if(w&&w.skipNested===true){m=true}l("after",t)},after:function(w){var v;var x=function(y,z){r.runRenderer(y,e.nested[z],k,function(){z++;if(z<e.nested.length){x(y,z)}else{l("complete",t)}})};if(w&&w.skipNested===true){m=true}if(e.nested&&!m){v=d(u);v=(v.attr("data-container")==="true")?v:v.find('[data-container="true"]:first');if(v.length<1){v=o}x(v,0)}else{s.complete(null)}},complete:function(v){if(i){i()}}};var l=function(w,v){v=d.extend({},v);if(e[w]){e[w].call(r,v,s[w])}else{s[w](null)}};l("before",t)};if(e.repeat){n=e.repeat.split(".");if(n[0]==="data"||n[0]==="this"){h=(n[0]==="this")?this:k;n.shift()}else{n=[];h=[""]}for(j=0,g=n.length;j<g;j++){h=h[n[j]]}}else{h=[""]}p(0)},viewChanged:function(g){var f=d(g.target);this.render({changeView:f.val(),pageIncrement:null})}};d.fn.repeater=function(f){var g=Array.prototype.slice.call(arguments,1);var h;var e=this.each(function(){var k=d(this);var j=k.data("fu.repeater");var i=typeof f==="object"&&f;if(!j){k.data("fu.repeater",(j=new c(this,i)))}if(typeof f==="string"){h=j[f].apply(j,g)}});return(h===undefined)?e:h};d.fn.repeater.defaults={dataSource:function(e,f){},defaultView:-1,dropPagingCap:10,staticHeight:-1};d.fn.repeater.views={};d.fn.repeater.Constructor=c;d.fn.repeater.noConflict=function(){d.fn.repeater=b;return this}})(a);(function(b){if(b.fn.repeater){b.fn.repeater.Constructor.prototype.clearSelectedItems=function(){this.$canvas.find(".repeater-list-check").remove();this.$canvas.find(".repeater-list-items tr.selected").removeClass("selected")};b.fn.repeater.Constructor.prototype.getSelectedItems=function(){var d=[];this.$canvas.find(".repeater-list-items tr.selected").each(function(){var e=b(this);d.push({data:e.data("item_data"),element:e})});return d};b.fn.repeater.Constructor.prototype.setSelectedItems=function(j,d){var o=this.options.list_selectable;var n=this;var h,g,m,f;var e=function(){m=b(this);h=m.data("item_data")||{};if(h[j[g].property]===j[g].value){k(m,j[g].selected)}};var k=function(i,l){l=(l!==undefined)?l:true;if(l){if(!d&&o!=="multi"){n.clearSelectedItems()}if(!i.hasClass("selected")){i.addClass("selected");i.find("td:first").prepend('<div class="repeater-list-check"><span class="glyphicon glyphicon-ok"></span></div>')}}else{i.find(".repeater-list-check").remove();i.removeClass("selected")}};if(!b.isArray(j)){j=[j]}if(d===true||o==="multi"){f=j.length}else{if(o){f=(j.length>0)?1:0}else{f=0}}for(g=0;g<f;g++){if(j[g].index!==undefined){m=this.$canvas.find(".repeater-list-items tr:nth-child("+(j[g].index+1)+")");if(m.length>0){k(m,j[g].selected)}}else{if(j[g].property!==undefined&&j[g].value!==undefined){this.$canvas.find(".repeater-list-items tr").each(e)}}}};b.fn.repeater.defaults=b.extend({},b.fn.repeater.defaults,{list_columnRendered:null,list_columnSizing:true,list_columnSyncing:true,list_infiniteScroll:false,list_noItemsHTML:"",list_selectable:false,list_sortClearing:false,list_rowRendered:null});b.fn.repeater.views.list={dataOptions:function(d,e){if(this.list_sortDirection){d.sortDirection=this.list_sortDirection}if(this.list_sortProperty){d.sortProperty=this.list_sortProperty}e(d)},initialize:function(d,e){this.list_sortDirection=null;this.list_sortProperty=null;e()},selected:function(e,f){var g=this.options.list_infiniteScroll;var d;this.list_firstRender=true;this.$loader.addClass("noHeader");if(g){d=(typeof g==="object")?g:{};this.infiniteScrolling(true,d)}f({})},renderer:{complete:function(d,e){c.call(this,d,e)},nested:[{complete:function(j,k){var m=[];var f=this;var g,d,h,e;if(!this.options.list_columnSizing||this.list_columnsSame){k()}else{g=0;e=0;j.item.find("td").each(function(){var n=b(this);var i=(n.next("td").length===0)?true:false;var l;if(f.list_columns[g].width!==undefined){l=f.list_columns[g].width;n.outerWidth(l);e+=n.outerWidth();if(!i){f.list_columns[g]._auto_width=l}else{n.outerWidth("")}}else{m.push({col:n,index:g,last:i})}g++});d=m.length;if(d>0){h=Math.floor((this.$canvas.width()-e)/d);for(g=0;g<d;g++){if(!m[g].last){m[g].col.outerWidth(h);this.list_columns[m[g].index]._auto_width=h}}}k()}},render:function(e,f){var d=function(n,m){var k,h,g;if(!n){return true}if(!m){return false}for(k=0,g=m.length;k<g;k++){if(!n[k]){return true}else{for(h in m[k]){if(n[k][h]!==m[k][h]){return true}}}}return false};if(this.list_firstRender||d(this.list_columns,e.data.columns)){this.$element.find(".repeater-list-header").remove();this.list_columns=e.data.columns;this.list_columnsSame=false;this.list_firstRender=false;this.$loader.removeClass("noHeader");f({action:"prepend",item:'<table class="table repeater-list-header" data-preserve="deep" role="grid" aria-readonly="true"><tr data-container="true"></tr></table>'})}else{this.list_columnsSame=true;f({skipNested:true})}},nested:[{render:function(d,n){var i="glyphicon-chevron";var h=i+"-down";var g=i+"-up";var j=d.index;var o=this;var e=d.subset;var l,m,f,k;l=e[j].cssClass;m=b('<td><span class="glyphicon"></span></td>');m.addClass(((l!==undefined)?l:"")).prepend(e[j].label);k=m.find("span.glyphicon:first");f=e[j].sortable;if(f){m.addClass("sortable");m.on("click.fu.repeater-list",function(){o.list_sortProperty=(typeof f==="string")?f:e[j].property;if(m.hasClass("sorted")){if(k.hasClass(g)){k.removeClass(g).addClass(h);o.list_sortDirection="desc"}else{if(!o.options.list_sortClearing){k.removeClass(h).addClass(g);o.list_sortDirection="asc"}else{m.removeClass("sorted");k.removeClass(h);o.list_sortDirection=null;o.list_sortProperty=null}}}else{d.container.find("td").removeClass("sorted");k.removeClass(h).addClass(g);o.list_sortDirection="asc";m.addClass("sorted")}o.render({clearInfinite:true,pageIncrement:null})})}if(e[j].sortDirection==="asc"||e[j].sortDirection==="desc"){d.container.find("td").removeClass("sorted");m.addClass("sortable sorted");if(e[j].sortDirection==="asc"){k.addClass(g);this.list_sortDirection="asc"}else{k.addClass(h);this.list_sortDirection="desc"}this.list_sortProperty=(typeof f==="string")?f:e[j].property}n({item:m})},repeat:"data.columns"}]},{after:function(e,g){var d=this.$canvas;var f=d.find(".repeater-list-header");if(this.staticHeight){e.item.height(d.height()-f.outerHeight())}g()},render:function(f,h){var d=this.$canvas.find(".repeater-list-wrapper");var g={};var e;if(d.length>0){g.action="none"}else{d=b('<div class="repeater-list-wrapper" data-infinite="true"><table class="table repeater-list-items" data-container="true" role="grid" aria-readonly="true"></table></div>')}g.item=d;if(f.data.items.length<1){g.skipNested=true;e=b('<tr class="empty"><td></td></tr>');e.find("td").append(this.options.list_noItemsHTML);d.find(".repeater-list-items").append(e)}else{d.find(".repeater-list-items tr.empty:first").remove()}h(g)},nested:[{complete:function(d,f){var e={container:d.container};if(d.item!==undefined){e.item=d.item}if(this.options.list_rowRendered){this.options.list_rowRendered(e,function(){f()})}else{f()}},render:function(f,g){var e=b('<tr data-container="true"></tr>');var d=this;if(this.options.list_selectable){e.addClass("selectable");e.attr("tabindex",0);e.data("item_data",f.subset[f.index]);e.on("click.fu.repeater-list",function(){var h=b(this);if(h.hasClass("selected")){h.removeClass("selected");h.find(".repeater-list-check").remove();d.$element.trigger("itemDeselected.fu.repeater",h)}else{if(d.options.list_selectable!=="multi"){d.$canvas.find(".repeater-list-check").remove();d.$canvas.find(".repeater-list-items tr.selected").each(function(){b(this).removeClass("selected");d.$element.trigger("itemDeselected.fu.repeater",b(this))})}h.addClass("selected");h.find("td:first").prepend('<div class="repeater-list-check"><span class="glyphicon glyphicon-ok"></span></div>');d.$element.trigger("itemSelected.fu.repeater",h)}});e.keyup(function(h){if(h.keyCode===13){e.trigger("click.fu.repeater-list")}})}this.list_curRowIndex=f.index;g({item:e})},repeat:"data.items",nested:[{after:function(d,f){var e={container:d.container};if(d.item!==undefined){e.item=d.item}if(this.options.list_columnRendered){this.options.list_columnRendered(e,function(){f()})}else{f()}},render:function(h,i){var g=h.subset[h.index].cssClass;var f=h.data.items[this.list_curRowIndex][h.subset[h.index].property];var d=b("<td></td>");var e=h.subset[h.index]._auto_width;d.addClass(((g!==undefined)?g:"")).append(f);if(e!==undefined){d.outerWidth(e)}i({item:d})},repeat:"this.list_columns"}]}]}]},resize:function(d,e){c.call(this,{data:{items:[""]}},e)}};var c=function(g,h){var f=0;var d=[];var e,j;if(!this.options.list_columnSyncing||(g.data.items.length<1)){h()}else{e=this.$element.find(".repeater-list-header:first");j=this.$element.find(".repeater-list-items:first");j.find("tr:first td").each(function(){d.push(b(this).outerWidth())});d.pop();e.find("td").each(function(){if(d[f]!==undefined){b(this).outerWidth(d[f])}f++});h()}}}})(a);(function(b){if(b.fn.repeater){b.fn.repeater.defaults=b.extend({},b.fn.repeater.defaults,{thumbnail_infiniteScroll:false,thumbnail_itemRendered:null,thumbnail_template:'<div class="thumbnail repeater-thumbnail" style="background-color: {{color}};"><img height="75" src="{{src}}" width="65"><span>{{name}}</span></div>'});b.fn.repeater.views.thumbnail={selected:function(d,e){var f=this.options.thumbnail_infiniteScroll;var c;if(f){c=(typeof f==="object")?f:{};this.infiniteScrolling(true,c)}e({})},renderer:{render:function(e,g){var c=this.$element.find(".repeater-thumbnail-cont");var f={};var d;if(c.length>0){f.action="none"}else{c=b('<div class="clearfix repeater-thumbnail-cont" data-container="true" data-infinite="true" data-preserve="shallow"></div>')}f.item=c;if(e.data.items.length<1){f.skipNested=true;d=b('<div class="empty"></div>');d.append(this.options.thumbnail_noItemsHTML);c.append(d)}else{c.find(".empty:first").remove()}g(f)},nested:[{after:function(c,e){var d={container:c.container};if(c.item!==undefined){d.item=c.item}if(this.options.thumbnail_itemRendered){this.options.thumbnail_itemRendered(d,function(){e()})}else{e()}},render:function(e,f){var d=e.subset[e.index];var c=function(i){var h=false;var g=function(){var j,l,k;l=i.indexOf("{{");j=i.indexOf("}}",l+2);if(l>-1&&j>-1){k=b.trim(i.substring(l+2,j));k=(d[k]!==undefined)?d[k]:"";i=i.substring(0,l)+k+i.substring(j+2)}else{h=true}};while(!h&&i.search("{{")>=0){g(i)}return i};f({item:c(this.options.thumbnail_template)})},repeat:"data.items"}]}}}})(a);(function(d){var b=d.fn.scheduler;var c=function(f,g){var e=this;this.$element=d(f);this.options=d.extend({},d.fn.scheduler.defaults,g);this.$startDate=this.$element.find(".start-datetime .start-date");this.$startTime=this.$element.find(".start-datetime .start-time");this.$timeZone=this.$element.find(".timezone-container .timezone");this.$repeatIntervalPanel=this.$element.find(".repeat-every-panel");this.$repeatIntervalSelect=this.$element.find(".repeat-options");this.$repeatIntervalSpinbox=this.$element.find(".repeat-every");this.$repeatIntervalTxt=this.$element.find(".repeat-every-text");this.$end=this.$element.find(".repeat-end");this.$endSelect=this.$end.find(".end-options");this.$endAfter=this.$end.find(".end-after");this.$endDate=this.$end.find(".end-on-date");this.$recurrencePanels=this.$element.find(".repeat-panel");this.$repeatIntervalSelect.selectlist();this.$element.find(".selectlist").selectlist();this.$startDate.datepicker();this.$startTime.combobox();if(this.$startTime.find("input").val()===""){this.$startTime.combobox("selectByIndex",0)}if(this.$repeatIntervalSpinbox.find("input").val()==="0"){this.$repeatIntervalSpinbox.spinbox({value:1,min:1})}else{this.$repeatIntervalSpinbox.spinbox({min:1})}this.$endAfter.spinbox({value:1,min:1});this.$endDate.datepicker();this.$element.find(".radio-custom").radio();this.$repeatIntervalSelect.on("changed.fu.selectlist",d.proxy(this.repeatIntervalSelectChanged,this));this.$endSelect.on("changed.fu.selectlist",d.proxy(this.endSelectChanged,this));this.$element.find(".repeat-days-of-the-week .btn-group .btn").on("change.fu.scheduler",function(i,h){e.changed(i,h,true)});this.$element.find(".combobox").on("changed.fu.combobox",d.proxy(this.changed,this));this.$element.find(".datepicker").on("changed.fu.datepicker",d.proxy(this.changed,this));this.$element.find(".selectlist").on("changed.fu.selectlist",d.proxy(this.changed,this));this.$element.find(".spinbox").on("changed.fu.spinbox",d.proxy(this.changed,this));this.$element.find(".repeat-monthly .radio, .repeat-yearly .radio").on("change.fu.scheduler",d.proxy(this.changed,this))};c.prototype={constructor:c,destroy:function(){var e;this.$element.find("input").each(function(){d(this).attr("value",d(this).val())});this.$element.find(".datepicker .calendar").empty();e=this.$element[0].outerHTML;this.$element.find(".combobox").combobox("destroy");this.$element.find(".datepicker").datepicker("destroy");this.$element.find(".selectlist").selectlist("destroy");this.$element.find(".spinbox").spinbox("destroy");this.$element.find("[type=radio]").radio("destroy");this.$element.remove();return e},changed:function(h,g,f){if(!f){h.stopPropagation()}this.$element.trigger("changed.fu.scheduler",{data:(g!==undefined)?g:d(h.currentTarget).data(),originalEvent:h,value:this.getValue()})},disable:function(){this.toggleState("disable")},enable:function(){this.toggleState("enable")},endSelectChanged:function(h,g){var f,i;if(!g){f=this.$endSelect.selectlist("selectedItem");i=f.value}else{i=g.value}this.$endAfter.parent().addClass("hide");this.$endAfter.parent().attr("aria-hidden","true");this.$endDate.parent().addClass("hide");this.$endDate.parent().attr("aria-hidden","true");if(i==="after"){this.$endAfter.parent().removeClass("hide");this.$endAfter.parent().attr("aria-hidden","false")}else{if(i==="date"){this.$endDate.parent().removeClass("hide");this.$endDate.parent().attr("aria-hidden","false")}}},getValue:function(){var g=this.$repeatIntervalSpinbox.spinbox("value");var f="";var n=this.$repeatIntervalSelect.selectlist("selectedItem").value;var l=this.$startTime.combobox("selectedItem").text.toLowerCase();var r=this.$timeZone.selectlist("selectedItem");var s;s=function(v,x){var y="";var w;y+=v.getFullYear();y+=x;w=v.getMonth()+1;y+=(w<10)?"0"+w:w;y+=x;w=v.getDate();y+=(w<10)?"0"+w:w;return y};var q,t,h,e,m,p,u,o;u=""+s(this.$startDate.datepicker("getDate"),"-");u+="T";h=(l.search("am")>=0);e=(l.search("pm")>=0);l=d.trim(l.replace(/am/g,"").replace(/pm/g,"")).split(":");l[0]=parseInt(l[0],10);l[1]=parseInt(l[1],10);if(h&&l[0]>11){l[0]=0}else{if(e&&l[0]<12){l[0]+=12}}u+=(l[0]<10)?"0"+l[0]:l[0];u+=":";u+=(l[1]<10)?"0"+l[1]:l[1];u+=(r.offset==="+00:00")?"Z":r.offset;if(n==="none"){f="FREQ=DAILY;INTERVAL=1;COUNT=1;"}else{if(n==="hourly"){f="FREQ=HOURLY;";f+="INTERVAL="+g+";"}else{if(n==="daily"){f+="FREQ=DAILY;";f+="INTERVAL="+g+";"}else{if(n==="weekdays"){f+="FREQ=DAILY;";f+="BYDAY=MO,TU,WE,TH,FR;";f+="INTERVAL=1;"}else{if(n==="weekly"){t=[];this.$element.find(".repeat-days-of-the-week .btn-group input:checked").each(function(){t.push(d(this).data().value)});f+="FREQ=WEEKLY;";f+="BYDAY="+t.join(",")+";";f+="INTERVAL="+g+";"}else{if(n==="monthly"){f+="FREQ=MONTHLY;";f+="INTERVAL="+g+";";o=this.$element.find("input[name=repeat-monthly]:checked").val();if(o==="bymonthday"){q=parseInt(this.$element.find(".repeat-monthly-date .selectlist").selectlist("selectedItem").text,10);f+="BYMONTHDAY="+q+";"}else{if(o==="bysetpos"){t=this.$element.find(".month-days").selectlist("selectedItem").value;p=this.$element.find(".month-day-pos").selectlist("selectedItem").value;f+="BYDAY="+t+";";f+="BYSETPOS="+p+";"}}}else{if(n==="yearly"){f+="FREQ=YEARLY;";o=this.$element.find("input[name=repeat-yearly]:checked").val();if(o==="bymonthday"){m=this.$element.find(".repeat-yearly-date .year-month").selectlist("selectedItem").value;q=this.$element.find(".year-month-day").selectlist("selectedItem").text;f+="BYMONTH="+m+";";f+="BYMONTHDAY="+q+";"}else{if(o==="bysetpos"){t=this.$element.find(".year-month-days").selectlist("selectedItem").value;p=this.$element.find(".year-month-day-pos").selectlist("selectedItem").value;m=this.$element.find(".repeat-yearly-day .year-month").selectlist("selectedItem").value;f+="BYDAY="+t+";";f+="BYSETPOS="+p+";";f+="BYMONTH="+m+";"}}}}}}}}}var i=this.$endSelect.selectlist("selectedItem").value;var j="";if(n!=="none"){if(i==="after"){j="COUNT="+this.$endAfter.spinbox("value")+";"}else{if(i==="date"){j="UNTIL="+s(this.$endDate.datepicker("getDate"),"")+";"}}}f+=j;var k={startDateTime:u,timeZone:{name:r.name,offset:r.offset},recurrencePattern:f};return k},repeatIntervalSelectChanged:function(i,h){var g,j,f;if(!h){g=this.$repeatIntervalSelect.selectlist("selectedItem");j=g.value;f=g.text}else{j=h.value;f=h.text}this.$repeatIntervalTxt.text(f);switch(j.toLowerCase()){case"hourly":case"daily":case"weekly":case"monthly":this.$repeatIntervalPanel.removeClass("hide");this.$repeatIntervalPanel.attr("aria-hidden","false");break;default:this.$repeatIntervalPanel.addClass("hide");this.$repeatIntervalPanel.attr("aria-hidden","true");break}this.$recurrencePanels.addClass("hide");this.$recurrencePanels.attr("aria-hidden","true");this.$element.find(".repeat-"+j).removeClass("hide");this.$element.find(".repeat-"+j).attr("aria-hidden","false");if(j==="none"){this.$end.addClass("hide");this.$end.attr("aria-hidden","true")}else{this.$end.removeClass("hide");this.$end.attr("aria-hidden","false")}},setValue:function(k){var m,h,o,f,g,e,j,n;if(k.startDateTime){n=k.startDateTime.split("T");this.$startDate.datepicker("setDate",n[0]);if(n[1]){n[1]=n[1].split(":");m=parseInt(n[1][0],10);g=(n[1][1])?parseInt(n[1][1].split("+")[0].split("-")[0].split("Z")[0],10):0;e=(m<12)?"AM":"PM";if(m===0){m=12}else{if(m>12){m-=12}}g=(g<10)?"0"+g:g;n=m+":"+g+" "+e;this.$startTime.find("input").val(n);this.$startTime.combobox("selectByText",n)}}o="li[data";if(k.timeZone){if(typeof(k.timeZone)==="string"){o+='-name="'+k.timeZone}else{if(k.timeZone.name){o+='-name="'+k.timeZone.name}else{o+='-offset="'+k.timeZone.offset}}o+='"]';this.$timeZone.selectlist("selectBySelector",o)}else{if(k.startDateTime){n=k.startDateTime.split("T")[1];if(n){if(n.search(/\+/)>-1){n="+"+d.trim(n.split("+")[1])}else{if(n.search(/\-/)>-1){n="-"+d.trim(n.split("-")[1])}else{n="+00:00"}}}else{n="+00:00"}o+='-offset="'+n+'"]';this.$timeZone.selectlist("selectBySelector",o)}}if(k.recurrencePattern){j={};n=k.recurrencePattern.toUpperCase().split(";");for(h=0,f=n.length;h<f;h++){if(n[h]!==""){o=n[h].split("=");j[o[0]]=o[1]}}if(j.FREQ==="DAILY"){if(j.BYDAY==="MO,TU,WE,TH,FR"){o="weekdays"}else{if(j.INTERVAL==="1"&&j.COUNT==="1"){o="none"}else{o="daily"}}}else{if(j.FREQ==="HOURLY"){o="hourly"}else{if(j.FREQ==="WEEKLY"){if(j.BYDAY){o=this.$element.find(".repeat-days-of-the-week .btn-group");o.find("label").removeClass("active");n=j.BYDAY.split(",");for(h=0,f=n.length;h<f;h++){o.find('input[data-value="'+n[h]+'"]').parent().addClass("active")}}o="weekly"}else{if(j.FREQ==="MONTHLY"){this.$element.find(".repeat-monthly input").removeAttr("checked").removeClass("checked");this.$element.find(".repeat-monthly label.radio-custom").removeClass("checked");if(j.BYMONTHDAY){n=this.$element.find(".repeat-monthly-date");n.find("input").addClass("checked").attr("checked","checked");n.find("label.radio-custom").addClass("checked");n.find(".selectlist").selectlist("selectByValue",j.BYMONTHDAY)}else{if(j.BYDAY){n=this.$element.find(".repeat-monthly-day");n.find("input").addClass("checked").attr("checked","checked");n.find("label.radio-custom").addClass("checked");if(j.BYSETPOS){n.find(".month-day-pos").selectlist("selectByValue",j.BYSETPOS)}n.find(".month-days").selectlist("selectByValue",j.BYDAY)}}o="monthly"}else{if(j.FREQ==="YEARLY"){this.$element.find(".repeat-yearly input").removeAttr("checked").removeClass("checked");this.$element.find(".repeat-yearly label.radio-custom").removeClass("checked");if(j.BYMONTHDAY){n=this.$element.find(".repeat-yearly-date");n.find("input").addClass("checked").attr("checked","checked");n.find("label.radio-custom").addClass("checked");if(j.BYMONTH){n.find(".year-month").selectlist("selectByValue",j.BYMONTH)}n.find(".year-month-day").selectlist("selectByValue",j.BYMONTHDAY)}else{if(j.BYSETPOS){n=this.$element.find(".repeat-yearly-day");n.find("input").addClass("checked").attr("checked","checked");n.find("label.radio-custom").addClass("checked");n.find(".year-month-day-pos").selectlist("selectByValue",j.BYSETPOS);if(j.BYDAY){n.find(".year-month-days").selectlist("selectByValue",j.BYDAY)}if(j.BYMONTH){n.find(".year-month").selectlist("selectByValue",j.BYMONTH)}}}o="yearly"}else{o="none"}}}}}if(j.COUNT){this.$endAfter.spinbox("value",parseInt(j.COUNT,10));this.$endSelect.selectlist("selectByValue","after")}else{if(j.UNTIL){n=j.UNTIL;if(n.length===8){n=n.split("");n.splice(4,0,"-");n.splice(7,0,"-");n=n.join("")}this.$endDate.datepicker("setDate",n);this.$endSelect.selectlist("selectByValue","date")}}this.endSelectChanged();if(j.INTERVAL){this.$repeatIntervalSpinbox.spinbox("value",parseInt(j.INTERVAL,10))}this.$repeatIntervalSelect.selectlist("selectByValue",o);this.repeatIntervalSelectChanged()}},toggleState:function(e){this.$element.find(".combobox").combobox(e);this.$element.find(".datepicker").datepicker(e);this.$element.find(".selectlist").selectlist(e);this.$element.find(".spinbox").spinbox(e);this.$element.find("[type=radio]").radio(e);if(e==="disable"){e="addClass"}else{e="removeClass"}this.$element.find(".repeat-days-of-the-week .btn-group")[e]("disabled")},value:function(e){if(e){return this.setValue(e)}else{return this.getValue()}}};d.fn.scheduler=function(f){var g=Array.prototype.slice.call(arguments,1);var h;var e=this.each(function(){var k=d(this);var j=k.data("fu.scheduler");var i=typeof f==="object"&&f;if(!j){k.data("fu.scheduler",(j=new c(this,i)))}if(typeof f==="string"){h=j[f].apply(j,g)}});return(h===undefined)?e:h};d.fn.scheduler.defaults={};d.fn.scheduler.Constructor=c;d.fn.scheduler.noConflict=function(){d.fn.scheduler=b;return this};d(document).on("mousedown.fu.scheduler.data-api","[data-initialize=scheduler]",function(g){var f=d(g.target).closest(".scheduler");if(!f.data("fu.scheduler")){f.scheduler(f.data())}});d(function(){d("[data-initialize=scheduler]").each(function(){var e=d(this);if(e.data("scheduler")){return}e.scheduler(e.data())})})})(a)}));